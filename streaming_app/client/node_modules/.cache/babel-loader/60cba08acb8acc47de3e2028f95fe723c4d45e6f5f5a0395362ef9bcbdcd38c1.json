{"ast":null,"code":"var _jsxFileName = \"/Users/walesolagbade/streaming_app/client/src/pages/Room.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Typography, Box, Paper, Avatar, Chip, IconButton, Skeleton, Button, AppBar, Toolbar, Badge, List, ListItem, ListItemAvatar, ListItemText, Divider, Dialog, DialogTitle, DialogContent, DialogActions, Alert, Grid, Tooltip } from '@mui/material';\nimport { ArrowBack, Groups, Mic, MicOff, PanTool, RecordVoiceOver, VideoCall, Settings, ExitToApp, VolumeUp, VolumeOff, PersonAdd, Share, MoreVert, QueueMusic, Chat, MusicNote, Palette, Visibility } from '@mui/icons-material';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { roomsAPI, tracksAPI } from '../services/api';\nimport { useAuth } from '../contexts/AuthContext';\nimport { usePlayer } from '../contexts/PlayerContext';\nimport { useSocket } from '../contexts/SocketContext_enhanced';\n// Import enhanced audio player component\nimport RoomAudioPlayer_new from '../components/RoomAudioPlayer_new';\nimport RoomChat from '../components/RoomChat';\nimport RoomSettings from '../components/RoomSettings';\nimport RoomThemes from '../components/RoomThemes';\nimport AudioVisualizer from '../components/AudioVisualizer';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Room = () => {\n  _s();\n  const {\n    recentlyPlayed\n  } = usePlayer ? usePlayer() : {\n    recentlyPlayed: []\n  };\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    isAuthenticated,\n    user\n  } = useAuth();\n  const {\n    joinRoom,\n    leaveRoom,\n    participants: socketParticipants,\n    roomState,\n    isConnected,\n    updateStatus,\n    notifyTrackAdded\n  } = useSocket();\n  const [room, setRoom] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [roomError, setRoomError] = useState('');\n  const [participants, setParticipants] = useState([]);\n  const [roomTracks, setRoomTracks] = useState([]);\n  const [userTracks, setUserTracks] = useState([]);\n  const [isMuted, setIsMuted] = useState(false);\n  const [handRaised, setHandRaised] = useState(false);\n  const [showLeaveDialog, setShowLeaveDialog] = useState(false);\n  const [showChat, setShowChat] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const [currentTheme, setCurrentTheme] = useState('default');\n  const [themeLoading, setThemeLoading] = useState(false);\n  // Set initial theme from backend if available\n  useEffect(() => {\n    if (room && room.background_theme) {\n      setCurrentTheme(room.background_theme);\n    }\n  }, [room]);\n\n  // Handler to update theme both locally and in backend\n  const handleThemeChange = async themeKey => {\n    setThemeLoading(true);\n    setCurrentTheme(themeKey);\n    try {\n      await roomsAPI.updateSettings(id, {\n        background_theme: themeKey\n      });\n      setRoom(prev => prev ? {\n        ...prev,\n        background_theme: themeKey\n      } : prev);\n    } catch (err) {\n      // Optionally show error to user\n      alert('Failed to update theme.');\n    } finally {\n      setThemeLoading(false);\n    }\n  };\n  const [showVisualizer, setShowVisualizer] = useState(true);\n  const [visualizerType, setVisualizerType] = useState('bars');\n  const [isHost, setIsHost] = useState(false);\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate('/login');\n      return;\n    }\n    fetchRoom();\n    fetchParticipants();\n    fetchRoomTracks();\n    fetchUserTracks();\n  }, [id, isAuthenticated]);\n  useEffect(() => {\n    if (room && user) {\n      const hostStatus = room.host_id === user.id;\n      console.log('=== DEBUG: Host status check ===');\n      console.log('Room:', room);\n      console.log('Room host_id:', room.host_id);\n      console.log('Current user:', user);\n      console.log('Current user ID:', user.id);\n      console.log('Is host:', hostStatus);\n      console.log('User ID type:', typeof user.id);\n      console.log('Host ID type:', typeof room.host_id);\n      setIsHost(hostStatus);\n\n      // Join the room via API (to be added to participants table)\n      if (!hostStatus) {\n        // Non-hosts need to join the room as participants\n        roomsAPI.join(id).then(response => {\n          console.log('Successfully joined room as participant:', response);\n        }).catch(error => {\n          var _error$response;\n          console.error('Failed to join room:', error);\n          // Check if it's because already joined\n          if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) !== 409) {\n            console.warn('Unexpected error joining room, but continuing...');\n          }\n        });\n      }\n\n      // Join the room via WebSocket\n      if (isConnected) {\n        console.log('Joining room via WebSocket:', id);\n        joinRoom(id);\n      }\n    }\n  }, [room, user, isConnected, id, joinRoom]);\n\n  // Sync participants with WebSocket\n  useEffect(() => {\n    if (socketParticipants.length > 0) {\n      setParticipants(socketParticipants);\n    }\n  }, [socketParticipants]);\n\n  // Sync room state with WebSocket\n  useEffect(() => {\n    if (roomState) {\n      setRoom(roomState);\n    }\n  }, [roomState]);\n  const fetchRoom = async () => {\n    try {\n      const response = await roomsAPI.getById(id);\n      console.log('[Room.js] fetchRoom response:', response);\n      setRoom(response.data.room);\n      setRoomError('');\n    } catch (error) {\n      console.error('[Room.js] Error fetching room:', error);\n      setRoomError('Failed to load room data. Please check your backend/API and try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchParticipants = async () => {\n    try {\n      const response = await roomsAPI.getParticipants(id);\n      setParticipants(response.data.participants || []);\n    } catch (error) {\n      console.error('Error fetching participants:', error);\n    }\n  };\n  const fetchRoomTracks = async () => {\n    try {\n      console.log('=== DEBUG: Fetching room tracks ===');\n      console.log('Room ID:', id);\n      const response = await roomsAPI.getTracks(id);\n      console.log('Room tracks response:', response.data);\n      console.log('Room tracks array:', response.data.tracks);\n      setRoomTracks(response.data.tracks || []);\n      console.log('Room tracks set, length:', (response.data.tracks || []).length);\n    } catch (error) {\n      console.error('Error fetching room tracks:', error);\n      setRoomTracks([]); // Set empty array on error\n    }\n  };\n  const fetchUserTracks = async () => {\n    try {\n      const response = await tracksAPI.getUserTracks();\n      setUserTracks(response.data.tracks || []);\n    } catch (error) {\n      console.error('Error fetching user tracks:', error);\n    }\n  };\n  const handleLeaveRoom = async () => {\n    try {\n      leaveRoom(); // Leave WebSocket room\n      await roomsAPI.leave(id);\n      navigate('/rooms');\n    } catch (error) {\n      console.error('Error leaving room:', error);\n      alert('Failed to leave room. Please try again.');\n    }\n  };\n  const handleMuteToggle = () => {\n    const newMutedState = !isMuted;\n    setIsMuted(newMutedState);\n    updateStatus({\n      isMuted: newMutedState\n    });\n  };\n  const handleRaiseHand = () => {\n    console.log('handleRaiseHand clicked, current handRaised:', handRaised);\n    console.log('isConnected:', isConnected);\n    console.log('currentRoom:', roomState);\n    const newHandState = !handRaised;\n    console.log('newHandState:', newHandState);\n    setHandRaised(newHandState);\n    updateStatus({\n      handRaised: newHandState\n    });\n    console.log('updateStatus called with:', {\n      handRaised: newHandState\n    });\n  };\n  const handleAddTrackToRoom = async track => {\n    try {\n      console.log('=== DEBUG: Room handleAddTrackToRoom ===');\n      console.log('Room ID:', id);\n      console.log('Track to add:', track);\n      console.log('Track ID:', track.id);\n      console.log('User:', user);\n      console.log('Is authenticated:', isAuthenticated);\n      if (!track || !track.id) {\n        throw new Error('Invalid track: missing track or track ID');\n      }\n      if (!id) {\n        throw new Error('Invalid room: missing room ID');\n      }\n      console.log('Making API call to add track...');\n      const response = await roomsAPI.addTrack(id, track.id);\n      console.log('API response:', response);\n      setRoomTracks(prev => {\n        const updated = [...prev, track];\n        console.log('Updated room tracks:', updated);\n        return updated;\n      });\n      notifyTrackAdded(track); // Notify via WebSocket\n      console.log('=== DEBUG: Track added successfully to room ===');\n      console.log('Track title:', track.title);\n    } catch (error) {\n      var _error$response2, _error$response3, _error$response4, _error$response5, _error$response6;\n      console.error('=== DEBUG: Error in handleAddTrackToRoom ===');\n      console.error('Error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error response:', (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n      console.error('Error status:', (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status);\n\n      // Show user-friendly error message\n      if (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status) === 403) {\n        alert('You do not have permission to add tracks to this room. Make sure you are a participant.');\n      } else if (((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.status) === 404) {\n        alert('Track or room not found. Please refresh and try again.');\n      } else if (((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.status) === 409) {\n        alert('This track is already in the room. You cannot add the same track twice.');\n      } else {\n        var _error$response7, _error$response7$data;\n        alert(`Failed to add track to room: ${((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : (_error$response7$data = _error$response7.data) === null || _error$response7$data === void 0 ? void 0 : _error$response7$data.error) || error.message}`);\n      }\n\n      // Re-throw so the component can handle it too\n      throw error;\n    }\n  };\n  const handleRemoveTrackFromRoom = async track => {\n    try {\n      console.log('=== DEBUG: Room handleRemoveTrackFromRoom ===');\n      console.log('Room ID:', id);\n      console.log('Track to remove:', track);\n      console.log('Track ID:', track.id);\n      console.log('User:', user);\n      console.log('Is authenticated:', isAuthenticated);\n      if (!track || !track.id) {\n        throw new Error('Invalid track: missing track or track ID');\n      }\n      if (!id) {\n        throw new Error('Invalid room: missing room ID');\n      }\n\n      // Show confirmation dialog\n      const confirmed = window.confirm(`Are you sure you want to remove \"${track.title}\" from this room?`);\n      if (!confirmed) {\n        return;\n      }\n      console.log('Making API call to remove track...');\n      const response = await roomsAPI.removeTrack(id, track.id);\n      console.log('API response:', response);\n\n      // Update local state\n      setRoomTracks(prev => {\n        const updated = prev.filter(t => t.id !== track.id);\n        console.log('Updated room tracks after removal:', updated);\n        return updated;\n      });\n      console.log('=== DEBUG: Track removed successfully from room ===');\n      console.log('Track title:', track.title);\n    } catch (error) {\n      var _error$response8, _error$response9, _error$response0, _error$response1;\n      console.error('=== DEBUG: Error in handleRemoveTrackFromRoom ===');\n      console.error('Error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error response:', (_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : _error$response8.data);\n      console.error('Error status:', (_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : _error$response9.status);\n\n      // Show user-friendly error message\n      if (((_error$response0 = error.response) === null || _error$response0 === void 0 ? void 0 : _error$response0.status) === 403) {\n        alert('You do not have permission to remove tracks from this room.');\n      } else if (((_error$response1 = error.response) === null || _error$response1 === void 0 ? void 0 : _error$response1.status) === 404) {\n        alert('Track not found in room or room not found.');\n      } else {\n        var _error$response10, _error$response10$dat;\n        alert(`Failed to remove track from room: ${((_error$response10 = error.response) === null || _error$response10 === void 0 ? void 0 : (_error$response10$dat = _error$response10.data) === null || _error$response10$dat === void 0 ? void 0 : _error$response10$dat.error) || error.message}`);\n      }\n    }\n  };\n  const handleRoomUpdated = updatedRoom => {\n    setRoom(updatedRoom);\n    console.log('Room updated:', updatedRoom.title);\n  };\n  const handleRoomDeleted = (roomId, isPermanent) => {\n    console.log('Room deleted:', roomId, 'permanent:', isPermanent);\n    // Navigate back to rooms list\n    navigate('/rooms');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      sx: {\n        py: 4,\n        mb: 10\n      },\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Skeleton, {\n          variant: \"text\",\n          width: \"30%\",\n          height: 40\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n          variant: \"text\",\n          width: \"50%\",\n          height: 24,\n          sx: {\n            mt: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 4\n          },\n          children: /*#__PURE__*/_jsxDEV(Skeleton, {\n            variant: \"rectangular\",\n            height: 200\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }, this);\n  }\n  if (roomError) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      sx: {\n        py: 8\n      },\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 4,\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          color: \"error\",\n          gutterBottom: true,\n          children: roomError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          color: \"text.secondary\",\n          children: \"Try refreshing the page or check your backend/API logs for errors.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: '100vh',\n      pb: 2,\n      transition: 'background 0.5s',\n      background: (() => {\n        // Map theme keys to backgrounds (sync with RoomThemes.js)\n        switch (currentTheme) {\n          case 'light':\n            return '#fff';\n          case 'dark':\n            return '#222';\n          case 'aqua':\n            return '#4ecdc4';\n          case 'sunset':\n            return 'linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)';\n          case 'forest':\n            return '#228B22';\n          case 'midnight':\n            return 'linear-gradient(135deg, #232526 0%, #414345 100%)';\n          case 'lavender':\n            return '#b57edc';\n          case 'peach':\n            return '#ffdab9';\n          case 'ocean':\n            return 'linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)';\n          case 'rose':\n            return '#ffb6c1';\n          case 'space':\n            return 'linear-gradient(135deg, #0f2027 0%, #2c5364 100%)';\n          default:\n            return 'linear-gradient(135deg, #232526 0%, #414345 100%)';\n        }\n      })()\n    },\n    children: [/*#__PURE__*/_jsxDEV(RoomThemes, {\n      theme: currentTheme,\n      onThemeChange: handleThemeChange,\n      loading: themeLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      sx: {\n        background: 'rgba(0, 0, 0, 0.3)',\n        backdropFilter: 'blur(10px)',\n        boxShadow: 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: () => navigate('/rooms'),\n          sx: {\n            mr: 2,\n            color: 'white'\n          },\n          children: /*#__PURE__*/_jsxDEV(ArrowBack, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            flexGrow: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            sx: {\n              fontWeight: 'bold',\n              color: 'white'\n            },\n            children: (room === null || room === void 0 ? void 0 : room.title) || `Room ${id}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              color: 'rgba(255,255,255,0.7)'\n            },\n            children: [\"Host: \", room === null || room === void 0 ? void 0 : room.host_username, \" \\u2022 \", participants.length, \" participants\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Chip, {\n            label: room !== null && room !== void 0 && room.is_active ? 'Live' : 'Inactive',\n            color: room !== null && room !== void 0 && room.is_active ? 'success' : 'default',\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: handleMuteToggle,\n            sx: {\n              color: isMuted ? '#ff4444' : 'white',\n              backgroundColor: isMuted ? 'rgba(255, 68, 68, 0.1)' : 'transparent'\n            },\n            children: isMuted ? /*#__PURE__*/_jsxDEV(MicOff, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 26\n            }, this) : /*#__PURE__*/_jsxDEV(Mic, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 39\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: handleRaiseHand,\n            sx: {\n              color: handRaised ? '#1DB954' : 'white',\n              backgroundColor: handRaised ? 'rgba(29, 185, 84, 0.1)' : 'transparent'\n            },\n            children: /*#__PURE__*/_jsxDEV(PanTool, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Toggle Visualizer\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: () => setShowVisualizer(!showVisualizer),\n              sx: {\n                color: showVisualizer ? '#1DB954' : 'white',\n                backgroundColor: showVisualizer ? 'rgba(29, 185, 84, 0.1)' : 'transparent'\n              },\n              children: /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => setShowLeaveDialog(true),\n            sx: {\n              color: '#ff4444'\n            },\n            children: /*#__PURE__*/_jsxDEV(ExitToApp, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      sx: {\n        py: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 3,\n          mb: 3,\n          background: 'rgba(255, 255, 255, 0.1)',\n          backdropFilter: 'blur(20px)',\n          borderRadius: 3,\n          border: '1px solid rgba(255, 255, 255, 0.2)'\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              width: 60,\n              height: 60,\n              backgroundColor: '#1DB954',\n              mr: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(RecordVoiceOver, {\n              sx: {\n                fontSize: 30\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flexGrow: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              sx: {\n                fontWeight: 'bold',\n                color: 'white'\n              },\n              children: room === null || room === void 0 ? void 0 : room.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 15\n            }, this), (room === null || room === void 0 ? void 0 : room.description) && /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              sx: {\n                color: 'rgba(255,255,255,0.8)',\n                mt: 1\n              },\n              children: room.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                gap: 1,\n                mt: 2\n              },\n              children: [(room === null || room === void 0 ? void 0 : room.category) && /*#__PURE__*/_jsxDEV(Chip, {\n                label: room.category,\n                size: \"small\",\n                variant: \"outlined\",\n                sx: {\n                  color: 'white'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 19\n              }, this), (room === null || room === void 0 ? void 0 : room.mood) && /*#__PURE__*/_jsxDEV(Chip, {\n                label: room.mood,\n                size: \"small\",\n                variant: \"outlined\",\n                sx: {\n                  color: 'white'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Badge, {\n              badgeContent: participants.length,\n              color: \"primary\",\n              children: /*#__PURE__*/_jsxDEV(Groups, {\n                sx: {\n                  color: 'white'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              sx: {\n                color: showChat ? 'primary.main' : 'white'\n              },\n              onClick: () => setShowChat(!showChat),\n              children: /*#__PURE__*/_jsxDEV(Chat, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              sx: {\n                color: 'white'\n              },\n              children: /*#__PURE__*/_jsxDEV(Share, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 15\n            }, this), isHost && /*#__PURE__*/_jsxDEV(IconButton, {\n              sx: {\n                color: 'white'\n              },\n              onClick: () => setShowSettings(true),\n              title: \"Room Settings\",\n              children: /*#__PURE__*/_jsxDEV(Settings, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 554,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 9\n      }, this), showVisualizer && roomTracks.length > 0 && /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 2,\n          mb: 3,\n          background: 'rgba(255, 255, 255, 0.1)',\n          backdropFilter: 'blur(20px)',\n          borderRadius: 3,\n          border: '1px solid rgba(255, 255, 255, 0.2)'\n        },\n        children: /*#__PURE__*/_jsxDEV(AudioVisualizer, {\n          type: visualizerType,\n          theme: currentTheme\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          lg: showChat ? 8 : 12,\n          children: [roomTracks && roomTracks.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(RoomAudioPlayer_new, {\n              room: room,\n              isHost: isHost,\n              tracks: roomTracks,\n              onAddTrack: handleAddTrackToRoom,\n              onRemoveTrack: handleRemoveTrackFromRoom\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 584,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mt: 4\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                sx: {\n                  color: 'white',\n                  mb: 2\n                },\n                children: \"Room Track List\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 2,\n                children: roomTracks.map(track => /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  sm: 6,\n                  md: 4,\n                  children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                    title: track.play_count === 1 ? 'Played once' : `Played ${track.play_count || 0} times`,\n                    arrow: true,\n                    children: /*#__PURE__*/_jsxDEV(Paper, {\n                      sx: {\n                        p: 2,\n                        bgcolor: '#23272f',\n                        color: 'white'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"subtitle1\",\n                        noWrap: true,\n                        children: track.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 601,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"body2\",\n                        color: \"#aaa\",\n                        noWrap: true,\n                        children: track.artist\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 602,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"caption\",\n                        color: \"#aaa\",\n                        children: [\"Plays: \", track.play_count || 0]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 603,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 600,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 25\n                  }, this)\n                }, track.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 598,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 596,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(Paper, {\n            elevation: 3,\n            sx: {\n              p: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                textAlign: 'center',\n                py: 4\n              },\n              children: [/*#__PURE__*/_jsxDEV(MusicNote, {\n                sx: {\n                  fontSize: 64,\n                  color: 'text.secondary',\n                  mb: 2\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                color: \"text.secondary\",\n                children: \"No tracks in this room\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 617,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                children: isHost ? 'Add some tracks to get started!' : 'Waiting for host to add tracks...'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 615,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 15\n          }, this), recentlyPlayed && recentlyPlayed.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 6,\n              mb: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              sx: {\n                fontWeight: 'bold',\n                mb: 2,\n                color: 'white'\n              },\n              children: \"Recently Played\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 629,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: recentlyPlayed.slice(0, 8).map(track => /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                md: 3,\n                children: /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: track.play_count === 1 ? 'Played once' : `Played ${track.play_count || 0} times`,\n                  arrow: true,\n                  children: /*#__PURE__*/_jsxDEV(Paper, {\n                    sx: {\n                      bgcolor: '#23272f',\n                      color: 'white',\n                      p: 2\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"subtitle1\",\n                      noWrap: true,\n                      children: track.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 637,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      color: \"#aaa\",\n                      noWrap: true,\n                      children: track.artist\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 638,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"caption\",\n                      color: \"#aaa\",\n                      children: [\"Plays: \", track.play_count || 0]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 639,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 636,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 635,\n                  columnNumber: 23\n                }, this)\n              }, track.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 628,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 8,\n              mb: 4\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h4\",\n              sx: {\n                fontWeight: 'bold',\n                mb: 2,\n                color: 'white'\n              },\n              children: \"AI Picks For This Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 13\n          }, this), isHost && /*#__PURE__*/_jsxDEV(Paper, {\n            elevation: 3,\n            sx: {\n              p: 3,\n              mt: 3,\n              background: 'rgba(255, 255, 255, 0.1)',\n              backdropFilter: 'blur(20px)',\n              borderRadius: 3,\n              border: '1px solid rgba(255, 255, 255, 0.2)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              sx: {\n                mb: 2,\n                color: 'white',\n                display: 'flex',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(QueueMusic, {\n                sx: {\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 19\n              }, this), \"Add Tracks to Room\", /*#__PURE__*/_jsxDEV(Chip, {\n                label: `${userTracks.length} available`,\n                size: \"small\",\n                sx: {\n                  ml: 2,\n                  backgroundColor: 'rgba(255,255,255,0.2)',\n                  color: 'white'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 17\n            }, this), userTracks.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                textAlign: 'center',\n                py: 3\n              },\n              children: [/*#__PURE__*/_jsxDEV(MusicNote, {\n                sx: {\n                  fontSize: 48,\n                  color: 'rgba(255,255,255,0.5)',\n                  mb: 2\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                sx: {\n                  color: 'rgba(255,255,255,0.8)',\n                  mb: 2\n                },\n                children: \"You don't have any tracks yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 680,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"primary\",\n                onClick: () => navigate('/upload'),\n                startIcon: /*#__PURE__*/_jsxDEV(MusicNote, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 687,\n                  columnNumber: 34\n                }, this),\n                children: \"Upload Your First Track\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 683,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                maxHeight: 300,\n                overflowY: 'auto'\n              },\n              children: userTracks.map(track => {\n                const isAlreadyInRoom = roomTracks.some(rt => rt.id === track.id);\n                return /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    p: 2,\n                    mb: 1,\n                    borderRadius: 2,\n                    backgroundColor: isAlreadyInRoom ? 'rgba(76, 175, 80, 0.1)' : 'rgba(255, 255, 255, 0.05)',\n                    border: isAlreadyInRoom ? '1px solid rgba(76, 175, 80, 0.3)' : '1px solid rgba(255, 255, 255, 0.1)',\n                    transition: 'all 0.2s ease',\n                    '&:hover': !isAlreadyInRoom ? {\n                      backgroundColor: 'rgba(255, 255, 255, 0.1)',\n                      transform: 'translateX(4px)'\n                    } : {}\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                    sx: {\n                      width: 50,\n                      height: 50,\n                      mr: 2,\n                      backgroundColor: 'primary.main'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(MusicNote, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 715,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 714,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      flexGrow: 1,\n                      minWidth: 0\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"subtitle1\",\n                      sx: {\n                        color: 'white',\n                        fontWeight: 'bold',\n                        textOverflow: 'ellipsis',\n                        overflow: 'hidden',\n                        whiteSpace: 'nowrap'\n                      },\n                      children: track.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 718,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      sx: {\n                        color: 'rgba(255,255,255,0.7)',\n                        textOverflow: 'ellipsis',\n                        overflow: 'hidden',\n                        whiteSpace: 'nowrap'\n                      },\n                      children: track.artist\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 730,\n                      columnNumber: 29\n                    }, this), track.duration && /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"caption\",\n                      sx: {\n                        color: 'rgba(255,255,255,0.5)'\n                      },\n                      children: [\"Duration: \", Math.floor(track.duration / 60), \":\", (track.duration % 60).toString().padStart(2, '0')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 742,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 717,\n                    columnNumber: 27\n                  }, this), isAlreadyInRoom ? /*#__PURE__*/_jsxDEV(Chip, {\n                    label: \"In Room\",\n                    color: \"success\",\n                    size: \"small\",\n                    icon: /*#__PURE__*/_jsxDEV(MusicNote, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 752,\n                      columnNumber: 37\n                    }, this),\n                    sx: {\n                      mr: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 748,\n                    columnNumber: 29\n                  }, this) : /*#__PURE__*/_jsxDEV(Tooltip, {\n                    title: \"Add this track to the room\",\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      color: \"primary\",\n                      size: \"small\",\n                      onClick: () => handleAddTrackToRoom(track),\n                      startIcon: /*#__PURE__*/_jsxDEV(QueueMusic, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 762,\n                        columnNumber: 44\n                      }, this),\n                      sx: {\n                        minWidth: 100,\n                        '&:hover': {\n                          backgroundColor: 'primary.dark',\n                          transform: 'scale(1.05)'\n                        }\n                      },\n                      children: \"Add\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 757,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 756,\n                    columnNumber: 29\n                  }, this)]\n                }, track.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 697,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 3,\n              mt: 3,\n              background: 'rgba(255, 255, 255, 0.1)',\n              backdropFilter: 'blur(20px)',\n              borderRadius: 3,\n              border: '1px solid rgba(255, 255, 255, 0.2)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              sx: {\n                mb: 2,\n                color: 'white',\n                display: 'flex',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Groups, {\n                sx: {\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 793,\n                columnNumber: 17\n              }, this), \"Participants (\", participants.length, \")\", isHost && /*#__PURE__*/_jsxDEV(Button, {\n                size: \"small\",\n                startIcon: /*#__PURE__*/_jsxDEV(PersonAdd, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 798,\n                  columnNumber: 32\n                }, this),\n                sx: {\n                  ml: 'auto',\n                  color: '#1DB954'\n                },\n                children: \"Invite\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 796,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(List, {\n              children: [participants.map((participant, index) => {\n                var _participant$username;\n                return /*#__PURE__*/_jsxDEV(ListItem, {\n                  divider: index < participants.length - 1,\n                  children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n                    children: /*#__PURE__*/_jsxDEV(Avatar, {\n                      src: participant.avatar_url,\n                      children: (_participant$username = participant.username) === null || _participant$username === void 0 ? void 0 : _participant$username.charAt(0).toUpperCase()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 810,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 809,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                    primary: /*#__PURE__*/_jsxDEV(Box, {\n                      sx: {\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: 1\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Typography, {\n                        sx: {\n                          color: 'white'\n                        },\n                        children: participant.display_name || participant.username\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 817,\n                        columnNumber: 27\n                      }, this), participant.id === (room === null || room === void 0 ? void 0 : room.host_id) && /*#__PURE__*/_jsxDEV(Chip, {\n                        label: \"Host\",\n                        size: \"small\",\n                        color: \"primary\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 821,\n                        columnNumber: 29\n                      }, this), participant.role === 'speaker' && /*#__PURE__*/_jsxDEV(Chip, {\n                        label: \"Speaker\",\n                        size: \"small\",\n                        variant: \"outlined\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 824,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 816,\n                      columnNumber: 25\n                    }, this),\n                    secondary: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      sx: {\n                        color: 'rgba(255,255,255,0.6)'\n                      },\n                      children: [participant.is_muted ? 'Muted' : 'Speaking', \" \\u2022\", participant.hand_raised ? ' Hand raised' : ' Listening']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 829,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 814,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    sx: {\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: 1\n                    },\n                    children: [participant.is_muted ? /*#__PURE__*/_jsxDEV(VolumeOff, {\n                      color: \"disabled\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 836,\n                      columnNumber: 47\n                    }, this) : /*#__PURE__*/_jsxDEV(VolumeUp, {\n                      color: \"primary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 836,\n                      columnNumber: 80\n                    }, this), participant.hand_raised && /*#__PURE__*/_jsxDEV(PanTool, {\n                      color: \"warning\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 837,\n                      columnNumber: 51\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 835,\n                    columnNumber: 21\n                  }, this)]\n                }, participant.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 808,\n                  columnNumber: 19\n                }, this);\n              }), participants.length === 0 && /*#__PURE__*/_jsxDEV(ListItem, {\n                children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                  primary: /*#__PURE__*/_jsxDEV(Typography, {\n                    sx: {\n                      color: 'rgba(255,255,255,0.6)',\n                      textAlign: 'center'\n                    },\n                    children: \"No participants yet\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 846,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 844,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 843,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 806,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 784,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 11\n        }, this), showChat && /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          lg: 4,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              height: '600px'\n            },\n            children: /*#__PURE__*/_jsxDEV(RoomChat, {\n              room: room\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 861,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 860,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 859,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: showLeaveDialog,\n        onClose: () => setShowLeaveDialog(false),\n        PaperProps: {\n          sx: {\n            background: 'linear-gradient(135deg, rgba(30, 30, 30, 0.95) 0%, rgba(50, 50, 50, 0.95) 100%)',\n            backdropFilter: 'blur(20px)',\n            border: '1px solid rgba(255, 255, 255, 0.1)'\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          sx: {\n            color: 'white'\n          },\n          children: \"Leave Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: [/*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"warning\",\n            sx: {\n              mb: 2\n            },\n            children: \"Are you sure you want to leave this room?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 881,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            sx: {\n              color: 'rgba(255,255,255,0.8)'\n            },\n            children: [\"You can rejoin this room anytime if it's still active.\", isHost && /*#__PURE__*/_jsxDEV(Typography, {\n              component: \"span\",\n              sx: {\n                color: '#ff4444',\n                fontWeight: 'bold',\n                display: 'block',\n                mt: 1\n              },\n              children: \"Warning: As the host, leaving will end the room for all participants.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 887,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 884,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 880,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setShowLeaveDialog(false),\n            sx: {\n              color: 'rgba(255,255,255,0.7)'\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 894,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleLeaveRoom,\n            variant: \"contained\",\n            color: \"error\",\n            startIcon: /*#__PURE__*/_jsxDEV(ExitToApp, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 904,\n              columnNumber: 26\n            }, this),\n            children: isHost ? 'End Room' : 'Leave Room'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 900,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 893,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 868,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RoomSettings, {\n        open: showSettings,\n        onClose: () => setShowSettings(false),\n        room: room,\n        isHost: isHost,\n        onRoomUpdated: handleRoomUpdated,\n        onRoomDeleted: handleRoomDeleted\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 912,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 397,\n    columnNumber: 5\n  }, this);\n};\n_s(Room, \"8KcVWXX7PTbcssNvUHmsoGAIm50=\", false, function () {\n  return [usePlayer, useParams, useNavigate, useAuth, useSocket];\n});\n_c = Room;\nexport default Room;\nvar _c;\n$RefreshReg$(_c, \"Room\");","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","Box","Paper","Avatar","Chip","IconButton","Skeleton","Button","AppBar","Toolbar","Badge","List","ListItem","ListItemAvatar","ListItemText","Divider","Dialog","DialogTitle","DialogContent","DialogActions","Alert","Grid","Tooltip","ArrowBack","Groups","Mic","MicOff","PanTool","RecordVoiceOver","VideoCall","Settings","ExitToApp","VolumeUp","VolumeOff","PersonAdd","Share","MoreVert","QueueMusic","Chat","MusicNote","Palette","Visibility","useParams","useNavigate","roomsAPI","tracksAPI","useAuth","usePlayer","useSocket","RoomAudioPlayer_new","RoomChat","RoomSettings","RoomThemes","AudioVisualizer","jsxDEV","_jsxDEV","Fragment","_Fragment","Room","_s","recentlyPlayed","id","navigate","isAuthenticated","user","joinRoom","leaveRoom","participants","socketParticipants","roomState","isConnected","updateStatus","notifyTrackAdded","room","setRoom","loading","setLoading","roomError","setRoomError","setParticipants","roomTracks","setRoomTracks","userTracks","setUserTracks","isMuted","setIsMuted","handRaised","setHandRaised","showLeaveDialog","setShowLeaveDialog","showChat","setShowChat","showSettings","setShowSettings","currentTheme","setCurrentTheme","themeLoading","setThemeLoading","background_theme","handleThemeChange","themeKey","updateSettings","prev","err","alert","showVisualizer","setShowVisualizer","visualizerType","setVisualizerType","isHost","setIsHost","fetchRoom","fetchParticipants","fetchRoomTracks","fetchUserTracks","hostStatus","host_id","console","log","join","then","response","catch","error","_error$response","status","warn","length","getById","data","getParticipants","getTracks","tracks","getUserTracks","handleLeaveRoom","leave","handleMuteToggle","newMutedState","handleRaiseHand","newHandState","handleAddTrackToRoom","track","Error","addTrack","updated","title","_error$response2","_error$response3","_error$response4","_error$response5","_error$response6","message","_error$response7","_error$response7$data","handleRemoveTrackFromRoom","confirmed","window","confirm","removeTrack","filter","t","_error$response8","_error$response9","_error$response0","_error$response1","_error$response10","_error$response10$dat","handleRoomUpdated","updatedRoom","handleRoomDeleted","roomId","isPermanent","maxWidth","sx","py","mb","children","p","variant","width","height","fileName","_jsxFileName","lineNumber","columnNumber","mt","textAlign","color","gutterBottom","minHeight","pb","transition","background","theme","onThemeChange","position","backdropFilter","boxShadow","onClick","mr","flexGrow","fontWeight","host_username","display","alignItems","gap","label","is_active","size","backgroundColor","borderRadius","border","fontSize","description","category","mood","badgeContent","type","container","spacing","item","xs","lg","onAddTrack","onRemoveTrack","map","sm","md","play_count","arrow","bgcolor","noWrap","artist","elevation","slice","ml","startIcon","maxHeight","overflowY","isAlreadyInRoom","some","rt","transform","minWidth","textOverflow","overflow","whiteSpace","duration","Math","floor","toString","padStart","icon","participant","index","_participant$username","divider","src","avatar_url","username","charAt","toUpperCase","primary","display_name","role","secondary","is_muted","hand_raised","open","onClose","PaperProps","severity","component","onRoomUpdated","onRoomDeleted","_c","$RefreshReg$"],"sources":["/Users/walesolagbade/streaming_app/client/src/pages/Room.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Container, \n  Typography, \n  Box, \n  Paper, \n  Avatar, \n  Chip,\n  IconButton,\n  Skeleton,\n  Button,\n  AppBar,\n  Toolbar,\n  Badge,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Divider,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Alert,\n  Grid,\n  Tooltip\n} from '@mui/material';\nimport { \n  ArrowBack,\n  Groups,\n  Mic,\n  MicOff,\n  PanTool,\n  RecordVoiceOver,\n  VideoCall,\n  Settings,\n  ExitToApp,\n  VolumeUp,\n  VolumeOff,\n  PersonAdd,\n  Share,\n  MoreVert,\n  QueueMusic,\n  Chat,\n  MusicNote,\n  Palette,\n  Visibility\n} from '@mui/icons-material';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { roomsAPI, tracksAPI } from '../services/api';\nimport { useAuth } from '../contexts/AuthContext';\nimport { usePlayer } from '../contexts/PlayerContext';\nimport { useSocket } from '../contexts/SocketContext_enhanced';\n// Import enhanced audio player component\nimport RoomAudioPlayer_new from '../components/RoomAudioPlayer_new';\nimport RoomChat from '../components/RoomChat';\nimport RoomSettings from '../components/RoomSettings';\nimport RoomThemes from '../components/RoomThemes';\nimport AudioVisualizer from '../components/AudioVisualizer';\n\nconst Room = () => {\n  const { recentlyPlayed } = usePlayer ? usePlayer() : { recentlyPlayed: [] };\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { isAuthenticated, user } = useAuth();\n  const { \n    joinRoom, \n    leaveRoom, \n    participants: socketParticipants, \n    roomState, \n    isConnected,\n    updateStatus,\n    notifyTrackAdded\n  } = useSocket();\n  const [room, setRoom] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [roomError, setRoomError] = useState('');\n  const [participants, setParticipants] = useState([]);\n  const [roomTracks, setRoomTracks] = useState([]);\n  const [userTracks, setUserTracks] = useState([]);\n  const [isMuted, setIsMuted] = useState(false);\n  const [handRaised, setHandRaised] = useState(false);\n  const [showLeaveDialog, setShowLeaveDialog] = useState(false);\n  const [showChat, setShowChat] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const [currentTheme, setCurrentTheme] = useState('default');\n  const [themeLoading, setThemeLoading] = useState(false);\n  // Set initial theme from backend if available\n  useEffect(() => {\n    if (room && room.background_theme) {\n      setCurrentTheme(room.background_theme);\n    }\n  }, [room]);\n\n  // Handler to update theme both locally and in backend\n  const handleThemeChange = async (themeKey) => {\n    setThemeLoading(true);\n    setCurrentTheme(themeKey);\n    try {\n      await roomsAPI.updateSettings(id, { background_theme: themeKey });\n      setRoom((prev) => prev ? { ...prev, background_theme: themeKey } : prev);\n    } catch (err) {\n      // Optionally show error to user\n      alert('Failed to update theme.');\n    } finally {\n      setThemeLoading(false);\n    }\n  };\n  const [showVisualizer, setShowVisualizer] = useState(true);\n  const [visualizerType, setVisualizerType] = useState('bars');\n  const [isHost, setIsHost] = useState(false);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate('/login');\n      return;\n    }\n    fetchRoom();\n    fetchParticipants();\n    fetchRoomTracks();\n    fetchUserTracks();\n  }, [id, isAuthenticated]);\n\n  useEffect(() => {\n    if (room && user) {\n      const hostStatus = room.host_id === user.id;\n      console.log('=== DEBUG: Host status check ===');\n      console.log('Room:', room);\n      console.log('Room host_id:', room.host_id);\n      console.log('Current user:', user);\n      console.log('Current user ID:', user.id);\n      console.log('Is host:', hostStatus);\n      console.log('User ID type:', typeof user.id);\n      console.log('Host ID type:', typeof room.host_id);\n      \n      setIsHost(hostStatus);\n      \n      // Join the room via API (to be added to participants table)\n      if (!hostStatus) {\n        // Non-hosts need to join the room as participants\n        roomsAPI.join(id).then((response) => {\n          console.log('Successfully joined room as participant:', response);\n        }).catch(error => {\n          console.error('Failed to join room:', error);\n          // Check if it's because already joined\n          if (error.response?.status !== 409) {\n            console.warn('Unexpected error joining room, but continuing...');\n          }\n        });\n      }\n      \n      // Join the room via WebSocket\n      if (isConnected) {\n        console.log('Joining room via WebSocket:', id);\n        joinRoom(id);\n      }\n    }\n  }, [room, user, isConnected, id, joinRoom]);\n\n  // Sync participants with WebSocket\n  useEffect(() => {\n    if (socketParticipants.length > 0) {\n      setParticipants(socketParticipants);\n    }\n  }, [socketParticipants]);\n\n  // Sync room state with WebSocket\n  useEffect(() => {\n    if (roomState) {\n      setRoom(roomState);\n    }\n  }, [roomState]);\n\n  const fetchRoom = async () => {\n    try {\n      const response = await roomsAPI.getById(id);\n      console.log('[Room.js] fetchRoom response:', response);\n      setRoom(response.data.room);\n      setRoomError('');\n    } catch (error) {\n      console.error('[Room.js] Error fetching room:', error);\n      setRoomError('Failed to load room data. Please check your backend/API and try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchParticipants = async () => {\n    try {\n      const response = await roomsAPI.getParticipants(id);\n      setParticipants(response.data.participants || []);\n    } catch (error) {\n      console.error('Error fetching participants:', error);\n    }\n  };\n\n  const fetchRoomTracks = async () => {\n    try {\n      console.log('=== DEBUG: Fetching room tracks ===');\n      console.log('Room ID:', id);\n      const response = await roomsAPI.getTracks(id);\n      console.log('Room tracks response:', response.data);\n      console.log('Room tracks array:', response.data.tracks);\n      setRoomTracks(response.data.tracks || []);\n      console.log('Room tracks set, length:', (response.data.tracks || []).length);\n    } catch (error) {\n      console.error('Error fetching room tracks:', error);\n      setRoomTracks([]); // Set empty array on error\n    }\n  };\n\n  const fetchUserTracks = async () => {\n    try {\n      const response = await tracksAPI.getUserTracks();\n      setUserTracks(response.data.tracks || []);\n    } catch (error) {\n      console.error('Error fetching user tracks:', error);\n    }\n  };\n\n  const handleLeaveRoom = async () => {\n    try {\n      leaveRoom(); // Leave WebSocket room\n      await roomsAPI.leave(id);\n      navigate('/rooms');\n    } catch (error) {\n      console.error('Error leaving room:', error);\n      alert('Failed to leave room. Please try again.');\n    }\n  };\n\n  const handleMuteToggle = () => {\n    const newMutedState = !isMuted;\n    setIsMuted(newMutedState);\n    updateStatus({ isMuted: newMutedState });\n  };\n\n  const handleRaiseHand = () => {\n    console.log('handleRaiseHand clicked, current handRaised:', handRaised);\n    console.log('isConnected:', isConnected);\n    console.log('currentRoom:', roomState);\n    const newHandState = !handRaised;\n    console.log('newHandState:', newHandState);\n    setHandRaised(newHandState);\n    updateStatus({ handRaised: newHandState });\n    console.log('updateStatus called with:', { handRaised: newHandState });\n  };\n\n  const handleAddTrackToRoom = async (track) => {\n    try {\n      console.log('=== DEBUG: Room handleAddTrackToRoom ===');\n      console.log('Room ID:', id);\n      console.log('Track to add:', track);\n      console.log('Track ID:', track.id);\n      console.log('User:', user);\n      console.log('Is authenticated:', isAuthenticated);\n      \n      if (!track || !track.id) {\n        throw new Error('Invalid track: missing track or track ID');\n      }\n      \n      if (!id) {\n        throw new Error('Invalid room: missing room ID');\n      }\n      \n      console.log('Making API call to add track...');\n      const response = await roomsAPI.addTrack(id, track.id);\n      console.log('API response:', response);\n      \n      setRoomTracks(prev => {\n        const updated = [...prev, track];\n        console.log('Updated room tracks:', updated);\n        return updated;\n      });\n      \n      notifyTrackAdded(track); // Notify via WebSocket\n      console.log('=== DEBUG: Track added successfully to room ===');\n      console.log('Track title:', track.title);\n    } catch (error) {\n      console.error('=== DEBUG: Error in handleAddTrackToRoom ===');\n      console.error('Error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error response:', error.response?.data);\n      console.error('Error status:', error.response?.status);\n      \n      // Show user-friendly error message\n      if (error.response?.status === 403) {\n        alert('You do not have permission to add tracks to this room. Make sure you are a participant.');\n      } else if (error.response?.status === 404) {\n        alert('Track or room not found. Please refresh and try again.');\n      } else if (error.response?.status === 409) {\n        alert('This track is already in the room. You cannot add the same track twice.');\n      } else {\n        alert(`Failed to add track to room: ${error.response?.data?.error || error.message}`);\n      }\n      \n      // Re-throw so the component can handle it too\n      throw error;\n    }\n  };\n\n  const handleRemoveTrackFromRoom = async (track) => {\n    try {\n      console.log('=== DEBUG: Room handleRemoveTrackFromRoom ===');\n      console.log('Room ID:', id);\n      console.log('Track to remove:', track);\n      console.log('Track ID:', track.id);\n      console.log('User:', user);\n      console.log('Is authenticated:', isAuthenticated);\n      \n      if (!track || !track.id) {\n        throw new Error('Invalid track: missing track or track ID');\n      }\n      \n      if (!id) {\n        throw new Error('Invalid room: missing room ID');\n      }\n      \n      // Show confirmation dialog\n      const confirmed = window.confirm(`Are you sure you want to remove \"${track.title}\" from this room?`);\n      if (!confirmed) {\n        return;\n      }\n      \n      console.log('Making API call to remove track...');\n      const response = await roomsAPI.removeTrack(id, track.id);\n      console.log('API response:', response);\n      \n      // Update local state\n      setRoomTracks(prev => {\n        const updated = prev.filter(t => t.id !== track.id);\n        console.log('Updated room tracks after removal:', updated);\n        return updated;\n      });\n      \n      console.log('=== DEBUG: Track removed successfully from room ===');\n      console.log('Track title:', track.title);\n    } catch (error) {\n      console.error('=== DEBUG: Error in handleRemoveTrackFromRoom ===');\n      console.error('Error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error response:', error.response?.data);\n      console.error('Error status:', error.response?.status);\n      \n      // Show user-friendly error message\n      if (error.response?.status === 403) {\n        alert('You do not have permission to remove tracks from this room.');\n      } else if (error.response?.status === 404) {\n        alert('Track not found in room or room not found.');\n      } else {\n        alert(`Failed to remove track from room: ${error.response?.data?.error || error.message}`);\n      }\n    }\n  };\n\n  const handleRoomUpdated = (updatedRoom) => {\n    setRoom(updatedRoom);\n    console.log('Room updated:', updatedRoom.title);\n  };\n\n  const handleRoomDeleted = (roomId, isPermanent) => {\n    console.log('Room deleted:', roomId, 'permanent:', isPermanent);\n    // Navigate back to rooms list\n    navigate('/rooms');\n  };\n\n  if (loading) {\n    return (\n      <Container maxWidth=\"lg\" sx={{ py: 4, mb: 10 }}>\n        <Paper sx={{ p: 4 }}>\n          <Skeleton variant=\"text\" width=\"30%\" height={40} />\n          <Skeleton variant=\"text\" width=\"50%\" height={24} sx={{ mt: 2 }} />\n          <Box sx={{ mt: 4 }}>\n            <Skeleton variant=\"rectangular\" height={200} />\n          </Box>\n        </Paper>\n      </Container>\n    );\n  }\n\n  if (roomError) {\n    return (\n      <Container maxWidth=\"sm\" sx={{ py: 8 }}>\n        <Paper sx={{ p: 4, textAlign: 'center' }}>\n          <Typography variant=\"h5\" color=\"error\" gutterBottom>\n            {roomError}\n          </Typography>\n          <Typography variant=\"body1\" color=\"text.secondary\">\n            Try refreshing the page or check your backend/API logs for errors.\n          </Typography>\n        </Paper>\n      </Container>\n    );\n  }\n\n  return (\n    <Box sx={{ \n      minHeight: '100vh',\n      pb: 2,\n      transition: 'background 0.5s',\n      background: (() => {\n        // Map theme keys to backgrounds (sync with RoomThemes.js)\n        switch (currentTheme) {\n          case 'light': return '#fff';\n          case 'dark': return '#222';\n          case 'aqua': return '#4ecdc4';\n          case 'sunset': return 'linear-gradient(135deg, #ff9966 0%, #ff5e62 100%)';\n          case 'forest': return '#228B22';\n          case 'midnight': return 'linear-gradient(135deg, #232526 0%, #414345 100%)';\n          case 'lavender': return '#b57edc';\n          case 'peach': return '#ffdab9';\n          case 'ocean': return 'linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%)';\n          case 'rose': return '#ffb6c1';\n          case 'space': return 'linear-gradient(135deg, #0f2027 0%, #2c5364 100%)';\n          default: return 'linear-gradient(135deg, #232526 0%, #414345 100%)';\n        }\n      })()\n    }}>\n      <RoomThemes theme={currentTheme} onThemeChange={handleThemeChange} loading={themeLoading} />\n      {/* Enhanced Room Header */}\n      <AppBar \n        position=\"static\" \n        sx={{ \n          background: 'rgba(0, 0, 0, 0.3)',\n          backdropFilter: 'blur(10px)',\n          boxShadow: 'none'\n        }}\n      >\n        <Toolbar>\n          <IconButton \n            onClick={() => navigate('/rooms')} \n            sx={{ mr: 2, color: 'white' }}\n          >\n            <ArrowBack />\n          </IconButton>\n          \n          <Box sx={{ flexGrow: 1 }}>\n            <Typography variant=\"h6\" sx={{ fontWeight: 'bold', color: 'white' }}>\n              {room?.title || `Room ${id}`}\n            </Typography>\n            <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.7)' }}>\n              Host: {room?.host_username}  {participants.length} participants\n            </Typography>\n          </Box>\n\n          {/* Room Status & Controls */}\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n            <Chip \n              label={room?.is_active ? 'Live' : 'Inactive'} \n              color={room?.is_active ? 'success' : 'default'}\n              size=\"small\"\n            />\n            <IconButton \n              onClick={handleMuteToggle}\n              sx={{ \n                color: isMuted ? '#ff4444' : 'white',\n                backgroundColor: isMuted ? 'rgba(255, 68, 68, 0.1)' : 'transparent'\n              }}\n            >\n              {isMuted ? <MicOff /> : <Mic />}\n            </IconButton>\n            <IconButton \n              onClick={handleRaiseHand}\n              sx={{ \n                color: handRaised ? '#1DB954' : 'white',\n                backgroundColor: handRaised ? 'rgba(29, 185, 84, 0.1)' : 'transparent'\n              }}\n            >\n              <PanTool />\n            </IconButton>\n            \n\n            \n            <Tooltip title=\"Toggle Visualizer\">\n              <IconButton \n                onClick={() => setShowVisualizer(!showVisualizer)}\n                sx={{ \n                  color: showVisualizer ? '#1DB954' : 'white',\n                  backgroundColor: showVisualizer ? 'rgba(29, 185, 84, 0.1)' : 'transparent'\n                }}\n              >\n                <Visibility />\n              </IconButton>\n            </Tooltip>\n            \n            <IconButton \n              onClick={() => setShowLeaveDialog(true)}\n              sx={{ color: '#ff4444' }}\n            >\n              <ExitToApp />\n            </IconButton>\n          </Box>\n        </Toolbar>\n      </AppBar>\n\n      <Container maxWidth=\"lg\" sx={{ py: 3 }}>\n        {/* Room Info */}\n        <Paper sx={{\n          p: 3,\n          mb: 3,\n          background: 'rgba(255, 255, 255, 0.1)',\n          backdropFilter: 'blur(20px)',\n          borderRadius: 3,\n          border: '1px solid rgba(255, 255, 255, 0.2)'\n        }}>\n          <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n            <Avatar \n              sx={{ \n                width: 60, \n                height: 60, \n                backgroundColor: '#1DB954',\n                mr: 3\n              }}\n            >\n              <RecordVoiceOver sx={{ fontSize: 30 }} />\n            </Avatar>\n            <Box sx={{ flexGrow: 1 }}>\n              <Typography variant=\"h5\" sx={{ fontWeight: 'bold', color: 'white' }}>\n                {room?.title}\n              </Typography>\n              {room?.description && (\n                <Typography variant=\"body1\" sx={{ color: 'rgba(255,255,255,0.8)', mt: 1 }}>\n                  {room.description}\n                </Typography>\n              )}\n              <Box sx={{ display: 'flex', gap: 1, mt: 2 }}>\n                {room?.category && (\n                  <Chip label={room.category} size=\"small\" variant=\"outlined\" sx={{ color: 'white' }} />\n                )}\n                {room?.mood && (\n                  <Chip label={room.mood} size=\"small\" variant=\"outlined\" sx={{ color: 'white' }} />\n                )}\n              </Box>\n            </Box>\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n              <Badge badgeContent={participants.length} color=\"primary\">\n                <Groups sx={{ color: 'white' }} />\n              </Badge>\n              <IconButton \n                sx={{ color: showChat ? 'primary.main' : 'white' }}\n                onClick={() => setShowChat(!showChat)}\n              >\n                <Chat />\n              </IconButton>\n              <IconButton sx={{ color: 'white' }}>\n                <Share />\n              </IconButton>\n              {isHost && (\n                <IconButton \n                  sx={{ color: 'white' }}\n                  onClick={() => setShowSettings(true)}\n                  title=\"Room Settings\"\n                >\n                  <Settings />\n                </IconButton>\n              )}\n            </Box>\n          </Box>\n        </Paper>\n\n        {/* Audio Visualizer */}\n        {showVisualizer && roomTracks.length > 0 && (\n          <Paper sx={{\n            p: 2,\n            mb: 3,\n            background: 'rgba(255, 255, 255, 0.1)',\n            backdropFilter: 'blur(20px)',\n            borderRadius: 3,\n            border: '1px solid rgba(255, 255, 255, 0.2)'\n          }}>\n            <AudioVisualizer \n              type={visualizerType}\n              theme={currentTheme}\n            />\n          </Paper>\n        )}\n\n        {/* Main Content */}\n        <Grid container spacing={3}>\n          <Grid item xs={12} lg={showChat ? 8 : 12}>\n            {/* Audio Player Component with Error Boundary */}\n            {roomTracks && roomTracks.length > 0 ? (\n              <>\n                <RoomAudioPlayer_new \n                  room={room}\n                  isHost={isHost}\n                  tracks={roomTracks}\n                  onAddTrack={handleAddTrackToRoom}\n                  onRemoveTrack={handleRemoveTrackFromRoom}\n                />\n                {/* Room Track List with Play Count Tooltips */}\n                <Box sx={{ mt: 4 }}>\n                  <Typography variant=\"h6\" sx={{ color: 'white', mb: 2 }}>\n                    Room Track List\n                  </Typography>\n                  <Grid container spacing={2}>\n                    {roomTracks.map((track) => (\n                      <Grid item xs={12} sm={6} md={4} key={track.id}>\n                        <Tooltip title={track.play_count === 1 ? 'Played once' : `Played ${track.play_count || 0} times`} arrow>\n                          <Paper sx={{ p: 2, bgcolor: '#23272f', color: 'white' }}>\n                            <Typography variant=\"subtitle1\" noWrap>{track.title}</Typography>\n                            <Typography variant=\"body2\" color=\"#aaa\" noWrap>{track.artist}</Typography>\n                            <Typography variant=\"caption\" color=\"#aaa\">\n                              Plays: {track.play_count || 0}\n                            </Typography>\n                          </Paper>\n                        </Tooltip>\n                      </Grid>\n                    ))}\n                  </Grid>\n                </Box>\n              </>\n            ) : (\n              <Paper elevation={3} sx={{ p: 3 }}>\n                <Box sx={{ textAlign: 'center', py: 4 }}>\n                  <MusicNote sx={{ fontSize: 64, color: 'text.secondary', mb: 2 }} />\n                  <Typography variant=\"h6\" color=\"text.secondary\">\n                    No tracks in this room\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    {isHost ? 'Add some tracks to get started!' : 'Waiting for host to add tracks...'}\n                  </Typography>\n                </Box>\n              </Paper>\n            )}\n            {/* Recently Played Section */}\n            {recentlyPlayed && recentlyPlayed.length > 0 && (\n              <Box sx={{ mt: 6, mb: 4 }}>\n                <Typography variant=\"h5\" sx={{ fontWeight: 'bold', mb: 2, color: 'white' }}>\n                  Recently Played\n                </Typography>\n                <Grid container spacing={2}>\n                  {recentlyPlayed.slice(0, 8).map((track) => (\n                    <Grid item xs={12} sm={6} md={3} key={track.id}>\n                      <Tooltip title={track.play_count === 1 ? 'Played once' : `Played ${track.play_count || 0} times`} arrow>\n                        <Paper sx={{ bgcolor: '#23272f', color: 'white', p: 2 }}>\n                          <Typography variant=\"subtitle1\" noWrap>{track.title}</Typography>\n                          <Typography variant=\"body2\" color=\"#aaa\" noWrap>{track.artist}</Typography>\n                          <Typography variant=\"caption\" color=\"#aaa\">\n                            Plays: {track.play_count || 0}\n                          </Typography>\n                        </Paper>\n                      </Tooltip>\n                    </Grid>\n                  ))}\n                </Grid>\n              </Box>\n            )}\n\n            {/* AI Recommendations Section */}\n            <Box sx={{ mt: 8, mb: 4 }}>\n              <Typography variant=\"h4\" sx={{ fontWeight: 'bold', mb: 2, color: 'white' }}>\n                AI Picks For This Room\n              </Typography>\n            </Box>\n\n            {/* Add Tracks Section - Only show if user is host or has permission */}\n            {isHost && (\n              <Paper elevation={3} sx={{ \n                p: 3, \n                mt: 3,\n                background: 'rgba(255, 255, 255, 0.1)',\n                backdropFilter: 'blur(20px)',\n                borderRadius: 3,\n                border: '1px solid rgba(255, 255, 255, 0.2)'\n              }}>\n                <Typography variant=\"h6\" sx={{ mb: 2, color: 'white', display: 'flex', alignItems: 'center' }}>\n                  <QueueMusic sx={{ mr: 1 }} />\n                  Add Tracks to Room\n                  <Chip \n                    label={`${userTracks.length} available`} \n                    size=\"small\" \n                    sx={{ ml: 2, backgroundColor: 'rgba(255,255,255,0.2)', color: 'white' }} \n                  />\n                </Typography>\n                \n                {userTracks.length === 0 ? (\n                  <Box sx={{ textAlign: 'center', py: 3 }}>\n                    <MusicNote sx={{ fontSize: 48, color: 'rgba(255,255,255,0.5)', mb: 2 }} />\n                    <Typography variant=\"body1\" sx={{ color: 'rgba(255,255,255,0.8)', mb: 2 }}>\n                      You don't have any tracks yet\n                    </Typography>\n                    <Button \n                      variant=\"contained\" \n                      color=\"primary\"\n                      onClick={() => navigate('/upload')}\n                      startIcon={<MusicNote />}\n                    >\n                      Upload Your First Track\n                    </Button>\n                  </Box>\n                ) : (\n                  <Box sx={{ maxHeight: 300, overflowY: 'auto' }}>\n                    {userTracks.map((track) => {\n                      const isAlreadyInRoom = roomTracks.some(rt => rt.id === track.id);\n                      return (\n                        <Box\n                          key={track.id}\n                          sx={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            p: 2,\n                            mb: 1,\n                            borderRadius: 2,\n                            backgroundColor: isAlreadyInRoom ? 'rgba(76, 175, 80, 0.1)' : 'rgba(255, 255, 255, 0.05)',\n                            border: isAlreadyInRoom ? '1px solid rgba(76, 175, 80, 0.3)' : '1px solid rgba(255, 255, 255, 0.1)',\n                            transition: 'all 0.2s ease',\n                            '&:hover': !isAlreadyInRoom ? {\n                              backgroundColor: 'rgba(255, 255, 255, 0.1)',\n                              transform: 'translateX(4px)'\n                            } : {}\n                          }}\n                        >\n                          <Avatar sx={{ width: 50, height: 50, mr: 2, backgroundColor: 'primary.main' }}>\n                            <MusicNote />\n                          </Avatar>\n                          <Box sx={{ flexGrow: 1, minWidth: 0 }}>\n                            <Typography \n                              variant=\"subtitle1\" \n                              sx={{ \n                                color: 'white', \n                                fontWeight: 'bold',\n                                textOverflow: 'ellipsis',\n                                overflow: 'hidden',\n                                whiteSpace: 'nowrap'\n                              }}\n                            >\n                              {track.title}\n                            </Typography>\n                            <Typography \n                              variant=\"body2\" \n                              sx={{ \n                                color: 'rgba(255,255,255,0.7)',\n                                textOverflow: 'ellipsis',\n                                overflow: 'hidden',\n                                whiteSpace: 'nowrap'\n                              }}\n                            >\n                              {track.artist}\n                            </Typography>\n                            {track.duration && (\n                              <Typography variant=\"caption\" sx={{ color: 'rgba(255,255,255,0.5)' }}>\n                                Duration: {Math.floor(track.duration / 60)}:{(track.duration % 60).toString().padStart(2, '0')}\n                              </Typography>\n                            )}\n                          </Box>\n                          {isAlreadyInRoom ? (\n                            <Chip \n                              label=\"In Room\" \n                              color=\"success\" \n                              size=\"small\"\n                              icon={<MusicNote />}\n                              sx={{ mr: 1 }}\n                            />\n                          ) : (\n                            <Tooltip title=\"Add this track to the room\">\n                              <Button\n                                variant=\"contained\"\n                                color=\"primary\"\n                                size=\"small\"\n                                onClick={() => handleAddTrackToRoom(track)}\n                                startIcon={<QueueMusic />}\n                                sx={{\n                                  minWidth: 100,\n                                  '&:hover': {\n                                    backgroundColor: 'primary.dark',\n                                    transform: 'scale(1.05)'\n                                  }\n                                }}\n                              >\n                                Add\n                              </Button>\n                            </Tooltip>\n                          )}\n                        </Box>\n                      );\n                    })}\n                  </Box>\n                )}\n              </Paper>\n            )}\n\n            {/* Participants Panel */}\n            <Paper sx={{\n              p: 3,\n              mt: 3,\n              background: 'rgba(255, 255, 255, 0.1)',\n              backdropFilter: 'blur(20px)',\n              borderRadius: 3,\n              border: '1px solid rgba(255, 255, 255, 0.2)'\n            }}>\n              <Typography variant=\"h6\" sx={{ mb: 2, color: 'white', display: 'flex', alignItems: 'center' }}>\n                <Groups sx={{ mr: 1 }} />\n                Participants ({participants.length})\n                {isHost && (\n                  <Button \n                    size=\"small\" \n                    startIcon={<PersonAdd />}\n                    sx={{ ml: 'auto', color: '#1DB954' }}\n                  >\n                    Invite\n                  </Button>\n                )}\n              </Typography>\n              \n              <List>\n                {participants.map((participant, index) => (\n                  <ListItem key={participant.id} divider={index < participants.length - 1}>\n                    <ListItemAvatar>\n                      <Avatar src={participant.avatar_url}>\n                        {participant.username?.charAt(0).toUpperCase()}\n                      </Avatar>\n                    </ListItemAvatar>\n                    <ListItemText\n                      primary={\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                          <Typography sx={{ color: 'white' }}>\n                            {participant.display_name || participant.username}\n                          </Typography>\n                          {participant.id === room?.host_id && (\n                            <Chip label=\"Host\" size=\"small\" color=\"primary\" />\n                          )}\n                          {participant.role === 'speaker' && (\n                            <Chip label=\"Speaker\" size=\"small\" variant=\"outlined\" />\n                          )}\n                        </Box>\n                      }\n                      secondary={\n                        <Typography variant=\"body2\" sx={{ color: 'rgba(255,255,255,0.6)' }}>\n                          {participant.is_muted ? 'Muted' : 'Speaking'}  \n                          {participant.hand_raised ? ' Hand raised' : ' Listening'}\n                        </Typography>\n                      }\n                    />\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                      {participant.is_muted ? <VolumeOff color=\"disabled\" /> : <VolumeUp color=\"primary\" />}\n                      {participant.hand_raised && <PanTool color=\"warning\" />}\n                    </Box>\n                  </ListItem>\n                ))}\n                \n                {participants.length === 0 && (\n                  <ListItem>\n                    <ListItemText \n                      primary={\n                        <Typography sx={{ color: 'rgba(255,255,255,0.6)', textAlign: 'center' }}>\n                          No participants yet\n                        </Typography>\n                      }\n                    />\n                  </ListItem>\n                )}\n              </List>\n            </Paper>\n          </Grid>\n\n          {/* Chat Panel */}\n          {showChat && (\n            <Grid item xs={12} lg={4}>\n              <Box sx={{ height: '600px' }}>\n                <RoomChat room={room} />\n              </Box>\n            </Grid>\n          )}\n        </Grid>\n\n        {/* Leave Room Confirmation Dialog */}\n        <Dialog \n          open={showLeaveDialog} \n          onClose={() => setShowLeaveDialog(false)}\n          PaperProps={{\n            sx: {\n              background: 'linear-gradient(135deg, rgba(30, 30, 30, 0.95) 0%, rgba(50, 50, 50, 0.95) 100%)',\n              backdropFilter: 'blur(20px)',\n              border: '1px solid rgba(255, 255, 255, 0.1)'\n            }\n          }}\n        >\n          <DialogTitle sx={{ color: 'white' }}>Leave Room</DialogTitle>\n          <DialogContent>\n            <Alert severity=\"warning\" sx={{ mb: 2 }}>\n              Are you sure you want to leave this room?\n            </Alert>\n            <Typography sx={{ color: 'rgba(255,255,255,0.8)' }}>\n              You can rejoin this room anytime if it's still active.\n              {isHost && (\n                <Typography component=\"span\" sx={{ color: '#ff4444', fontWeight: 'bold', display: 'block', mt: 1 }}>\n                  Warning: As the host, leaving will end the room for all participants.\n                </Typography>\n              )}\n            </Typography>\n          </DialogContent>\n          <DialogActions>\n            <Button \n              onClick={() => setShowLeaveDialog(false)}\n              sx={{ color: 'rgba(255,255,255,0.7)' }}\n            >\n              Cancel\n            </Button>\n            <Button \n              onClick={handleLeaveRoom}\n              variant=\"contained\"\n              color=\"error\"\n              startIcon={<ExitToApp />}\n            >\n              {isHost ? 'End Room' : 'Leave Room'}\n            </Button>\n          </DialogActions>\n        </Dialog>\n\n        {/* Room Settings Dialog */}\n        <RoomSettings\n          open={showSettings}\n          onClose={() => setShowSettings(false)}\n          room={room}\n          isHost={isHost}\n          onRoomUpdated={handleRoomUpdated}\n          onRoomDeleted={handleRoomDeleted}\n        />\n      </Container>\n      </Box>\n\n  );\n};\n\nexport default Room;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}