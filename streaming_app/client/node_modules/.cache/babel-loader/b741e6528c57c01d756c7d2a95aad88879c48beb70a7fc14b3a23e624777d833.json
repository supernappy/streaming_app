{"ast":null,"code":"import React,{useState,useEffect,useMemo}from'react';import Analytics from'@mui/icons-material/Analytics';import{Box,Container,Grid,Typography,Card,CardContent,Avatar,Button,Paper,IconButton,Chip,Snackbar,Alert,Tabs,Tab,List,ListItem,ListItemText,ListItemSecondaryAction,Dialog,DialogTitle,DialogContent,DialogActions,CircularProgress,Divider,Badge,Stack,Switch,FormControlLabel,FormControl,FormLabel,RadioGroup,Radio,Tooltip,LinearProgress,FormGroup,TextField}from'@mui/material';import TrackCard from'../components/TrackCard';import{Edit,Save,Cancel,PhotoCamera,MusicNote,QueueMusic,Favorite,PlayArrow,Share,CloudUpload,BarChart,TrendingUp,People,Star,Visibility,Settings,Security,Notifications,Delete,AutoAwesome}from'@mui/icons-material';import{useAuth}from'../contexts/AuthContext';import{useNavigate}from'react-router-dom';import AvatarUploadDialog from'../components/AvatarUploadDialog';import AIRecommendations from'../components/AIRecommendations';import api from'../services/api';import useSyncTrackCounts from'../hooks/useSyncTrackCounts';import{formatPlays,formatNumberCompact}from'../utils/format';import{usePlayer}from'../contexts/PlayerContext';// import Tooltip from '@mui/material/Tooltip';\n// Clean, simple input component that never loses focus\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CleanInput=_ref=>{let{label,value,onChange,disabled=false,multiline=false,placeholder=\"\",type=\"text\"}=_ref;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'8px',color:disabled?'#888':'#667eea',fontSize:'14px',fontWeight:'500'},children:label}),multiline?/*#__PURE__*/_jsx(\"textarea\",{value:value||'',onChange:onChange,disabled:disabled,placeholder:placeholder,rows:4,style:{width:'100%',padding:'12px',border:'2px solid rgba(102, 126, 234, 0.3)',borderRadius:'8px',backgroundColor:disabled?'#2a2a2a':'#1a1a1a',color:disabled?'#888':'#ffffff',fontSize:'16px',fontFamily:'inherit',outline:'none',resize:'vertical',boxSizing:'border-box'},onFocus:e=>e.target.style.borderColor='#667eea',onBlur:e=>e.target.style.borderColor='rgba(102, 126, 234, 0.3)'}):/*#__PURE__*/_jsx(\"input\",{type:type,value:value||'',onChange:onChange,disabled:disabled,placeholder:placeholder,style:{width:'100%',padding:'12px',border:'2px solid rgba(102, 126, 234, 0.3)',borderRadius:'8px',backgroundColor:disabled?'#2a2a2a':'#1a1a1a',color:disabled?'#888':'#ffffff',fontSize:'16px',fontFamily:'inherit',outline:'none',boxSizing:'border-box'},onFocus:e=>e.target.style.borderColor='#667eea',onBlur:e=>e.target.style.borderColor='rgba(102, 126, 234, 0.3)'})]});};const Profile=()=>{var _profile$avatar_url,_profile$avatar_url2,_profile$display_name,_profile$display_name2,_profile$username,_profile$username$cha,_aiSuggestions$insigh,_latestAIAnalysis$ins;const{user,updateUser}=useAuth();const navigate=useNavigate();const{playTrack,recentlyPlayed}=usePlayer?usePlayer():{playTrack:()=>{},recentlyPlayed:[]};// State management\nconst[activeTab,setActiveTab]=useState(0);const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[error,setError]=useState(null);const[success,setSuccess]=useState(null);const[editMode,setEditMode]=useState(false);// Profile data\nconst[profile,setProfile]=useState({username:'',email:'',display_name:'',bio:'',avatar_url:'',location:'',website:'',social_links:{twitter:'',instagram:'',soundcloud:'',spotify:''}});// Stats\nconst[stats,setStats]=useState({tracksUploaded:0,totalPlays:0,totalLikes:0,followers:0,following:0,playlistsCreated:0});// User content\nconst[userTracks,setUserTracks]=useState([]);// Memoize userTracks to avoid passing a new array to useSyncTrackCounts on every render\nconst memoizedUserTracks=useMemo(()=>userTracks,[userTracks]);const[syncedUserTracks,setSyncedUserTracks]=useSyncTrackCounts(memoizedUserTracks);const[userPlaylists,setUserPlaylists]=useState([]);// AI Enhancement state\nconst[aiSuggestions,setAiSuggestions]=useState(null);const[loadingAIByTrackId,setLoadingAIByTrackId]=useState({});const[aiAnalysisDialog,setAiAnalysisDialog]=useState(false);const[latestAIAnalysis,setLatestAIAnalysis]=useState(null);// Dialog states\nconst[avatarUploadDialog,setAvatarUploadDialog]=useState(false);const[passwordDialog,setPasswordDialog]=useState(false);const[notificationsDialog,setNotificationsDialog]=useState(false);const[privacyDialog,setPrivacyDialog]=useState(false);// Password form\nconst[passwordForm,setPasswordForm]=useState({currentPassword:'',newPassword:'',confirmPassword:''});// Settings\nconst[notificationSettings,setNotificationSettings]=useState({emailNotifications:true,pushNotifications:false,trackLikes:true,newFollowers:true,roomInvites:true,trackComments:false});const[privacySettings,setPrivacySettings]=useState({profileVisibility:'public',showEmail:false,showLocation:true,allowDirectMessages:true,showOnlineStatus:false,showListeningActivity:true});// Load profile data on mount\nuseEffect(()=>{fetchProfileData();},[]);// Fetch AI enhancement suggestions (mocked)\nuseEffect(()=>{if(user&&profile.username){fetchAIEnhancements();}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[user,profile.username]);// Mock AI enhancement fetch\nconst fetchAIEnhancements=async()=>{setAiSuggestions({bio:[\"Passionate about sharing music and connecting with listeners.\",\"Blending genres to create a unique sound.\",\"Always exploring new musical frontiers.\"],genres:[\"Hip-Hop\",\"Electronic\",\"Indie Pop\"],style:\"Experimental, Melodic\",insights:{strengths:[\"Creativity\",\"Consistency\",\"Engagement\"]}});};const fetchProfileData=async()=>{try{var _tracksResponse$data$;setLoading(true);// Fetch profile\nconst profileResponse=await api.get('/users/profile');const userData=profileResponse.data.user;// Fetch tracks\nconst tracksResponse=await api.get('/tracks?limit=50');const userTracksData=((_tracksResponse$data$=tracksResponse.data.tracks)===null||_tracksResponse$data$===void 0?void 0:_tracksResponse$data$.filter(track=>track.user_id===userData.id))||[];// Fetch playlists\nconst playlistsResponse=await api.get('/playlists');const userPlaylistsData=playlistsResponse.data.playlists||[];// Update profile state\nsetProfile({username:userData.username||'',email:userData.email||'',display_name:userData.display_name||userData.username||'',bio:userData.bio||'',avatar_url:userData.avatar_url||'',location:userData.location||'',website:userData.website||'',social_links:{twitter:userData.twitter||'',instagram:userData.instagram||'',soundcloud:userData.soundcloud||'',spotify:userData.spotify||''}});// Update stats\nconst totalPlays=userTracksData.reduce((total,track)=>total+(track.play_count||0),0);const totalLikes=userTracksData.reduce((total,track)=>total+(track.like_count||0),0);let followers=0;let following=0;try{if(userData.id){const followersRes=await api.get(`/users/${userData.id}/followers`);followers=Array.isArray(followersRes.data)?followersRes.data.length:followersRes.data.count||0;const followingRes=await api.get(`/users/${userData.id}/following`);following=Array.isArray(followingRes.data)?followingRes.data.length:followingRes.data.count||0;}}catch(err){// If followers/following endpoints fail, fallback to 0\nfollowers=0;following=0;}setStats({tracksUploaded:userTracksData.length,totalPlays:totalPlays,totalLikes:totalLikes,followers:followers,following:following,playlistsCreated:userPlaylistsData.length});setUserTracks(userTracksData);setSyncedUserTracks(userTracksData);setUserPlaylists(userPlaylistsData);}catch(error){console.error('Error fetching profile data:',error);setError('Failed to load profile data. Please try again.');}finally{setLoading(false);}};// Fetch AI enhancement suggestions\n// const fetchAIEnhancements = async () => {};\n// Apply AI bio suggestion\nconst applyAIBioSuggestion=suggestion=>{setProfile(prev=>({...prev,bio:suggestion}));setEditMode(true);setSuccess('AI suggestion applied! Don\\'t forget to save your changes.');};// ...AI analysis logic removed...\n// Simple handlers without complex logic\nconst handleFieldChange=(field,event)=>{const value=event.target.value;setProfile(prev=>({...prev,[field]:value}));};const handleSocialLinkChange=(platform,event)=>{const value=event.target.value;setProfile(prev=>({...prev,social_links:{...prev.social_links,[platform]:value}}));};const handlePasswordFieldChange=(field,event)=>{const value=event.target.value;setPasswordForm(prev=>({...prev,[field]:value}));};const handleProfileUpdate=async()=>{try{setSaving(true);setError(null);const updateData={display_name:profile.display_name,bio:profile.bio,avatar_url:profile.avatar_url,location:profile.location,website:profile.website,twitter:profile.social_links.twitter,instagram:profile.social_links.instagram,soundcloud:profile.social_links.soundcloud,spotify:profile.social_links.spotify};const response=await api.put('/users/profile',updateData);if(response.data.user){updateUser(response.data.user);setSuccess('Profile updated successfully!');setEditMode(false);}}catch(error){console.error('Error updating profile:',error);setError('Failed to update profile. Please try again.');}finally{setSaving(false);}};const handleChangePassword=async()=>{if(!passwordForm.currentPassword||!passwordForm.newPassword||!passwordForm.confirmPassword){setError('Please fill in all password fields.');return;}if(passwordForm.newPassword!==passwordForm.confirmPassword){setError('New passwords do not match.');return;}try{setSaving(true);await api.post('/users/change-password',{currentPassword:passwordForm.currentPassword,newPassword:passwordForm.newPassword});setSuccess('Password changed successfully!');setPasswordDialog(false);setPasswordForm({currentPassword:'',newPassword:'',confirmPassword:''});}catch(err){setError('Failed to change password. Please try again.');}finally{setSaving(false);}};const handleAvatarUpdate=async newAvatarUrl=>{try{setProfile(prev=>({...prev,avatar_url:newAvatarUrl}));const response=await api.put('/users/profile',{avatar_url:newAvatarUrl});if(response.data.user){updateUser(response.data.user);setSuccess('Profile picture updated successfully!');}}catch(error){console.error('Error updating avatar:',error);setError('Failed to update profile picture. Please try again.');}};// Notification settings handler\nconst handleSaveNotifications=async()=>{try{// Replace with your API call for saving notification settings\nawait api.post('/users/notification-settings',notificationSettings);setSuccess('Notification settings saved!');setNotificationsDialog(false);}catch(err){setError('Failed to save notification settings. Please try again.');}};// Privacy settings handler\nconst handleSavePrivacy=async()=>{try{// Replace with your API call for saving privacy settings\nawait api.post('/users/privacy-settings',privacySettings);setSuccess('Privacy settings saved!');setPrivacyDialog(false);}catch(err){setError('Failed to save privacy settings. Please try again.');}};// Loading state\nif(loading){return/*#__PURE__*/_jsxs(Container,{sx:{py:4,textAlign:'center'},children:[/*#__PURE__*/_jsx(CircularProgress,{}),/*#__PURE__*/_jsx(Typography,{sx:{mt:2,color:'#ccc'},children:\"Loading profile...\"})]});}return/*#__PURE__*/_jsxs(Container,{maxWidth:\"xl\",sx:{py:4,mb:10},children:[/*#__PURE__*/_jsx(Paper,{elevation:0,sx:{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',borderRadius:'24px',p:4,mb:4,color:'white'},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Badge,{overlap:\"circular\",anchorOrigin:{vertical:'bottom',horizontal:'right'},badgeContent:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>setAvatarUploadDialog(true),sx:{bgcolor:'rgba(255,255,255,0.2)',color:'white','&:hover':{bgcolor:'rgba(255,255,255,0.3)'}},children:/*#__PURE__*/_jsx(PhotoCamera,{fontSize:\"small\"})}),children:/*#__PURE__*/_jsx(Avatar,{src:(_profile$avatar_url=profile.avatar_url)!==null&&_profile$avatar_url!==void 0&&_profile$avatar_url.startsWith('gradient:')?undefined:profile.avatar_url,sx:{width:120,height:120,border:'4px solid rgba(255,255,255,0.3)',fontSize:'3rem',background:(_profile$avatar_url2=profile.avatar_url)!==null&&_profile$avatar_url2!==void 0&&_profile$avatar_url2.startsWith('gradient:')?profile.avatar_url.replace('gradient:',''):undefined},children:((_profile$display_name=profile.display_name)===null||_profile$display_name===void 0?void 0:(_profile$display_name2=_profile$display_name.charAt(0))===null||_profile$display_name2===void 0?void 0:_profile$display_name2.toUpperCase())||((_profile$username=profile.username)===null||_profile$username===void 0?void 0:(_profile$username$cha=_profile$username.charAt(0))===null||_profile$username$cha===void 0?void 0:_profile$username$cha.toUpperCase())})})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:true,children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2,mb:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{fontWeight:'bold'},children:profile.display_name||profile.username}),/*#__PURE__*/_jsx(Chip,{label:\"Artist\",size:\"small\",sx:{bgcolor:'rgba(255,255,255,0.2)',color:'white'}})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",sx:{opacity:0.8,mb:2},children:[\"@\",profile.username]}),profile.bio&&/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mb:2,maxWidth:600},children:profile.bio}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:4,children:[/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontWeight:'bold'},children:stats.tracksUploaded}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:\"Tracks\"})]}),/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontWeight:'bold'},children:formatNumberCompact(stats.totalPlays)}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:\"Plays\"})]}),/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontWeight:'bold'},children:stats.followers}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:\"Followers\"})]}),/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontWeight:'bold'},children:stats.following}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:\"Following\"})]})]})]}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsxs(Stack,{spacing:1,children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:saving?/*#__PURE__*/_jsx(CircularProgress,{size:20,sx:{color:'white'}}):editMode?/*#__PURE__*/_jsx(Save,{}):/*#__PURE__*/_jsx(Edit,{}),onClick:editMode?handleProfileUpdate:()=>setEditMode(true),disabled:saving,sx:{bgcolor:'rgba(255,255,255,0.2)','&:hover':{bgcolor:'rgba(255,255,255,0.3)'}},children:saving?'Saving...':editMode?'Save Profile':'Edit Profile'}),editMode&&/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(Cancel,{}),onClick:()=>{setEditMode(false);fetchProfileData();},sx:{borderColor:'rgba(255,255,255,0.3)',color:'white','&:hover':{borderColor:'rgba(255,255,255,0.5)'}},children:\"Cancel\"})]})})]})}),/*#__PURE__*/_jsxs(Box,{sx:{width:'100%'},children:[/*#__PURE__*/_jsxs(Tabs,{value:activeTab,onChange:(event,newValue)=>setActiveTab(newValue),sx:{mb:3,'& .MuiTab-root':{color:'#ccc','&.Mui-selected':{color:'#667eea'}}},children:[/*#__PURE__*/_jsx(Tab,{icon:/*#__PURE__*/_jsx(MusicNote,{}),label:\"My Tracks\"}),/*#__PURE__*/_jsx(Tab,{icon:/*#__PURE__*/_jsx(QueueMusic,{}),label:\"Playlists\"}),/*#__PURE__*/_jsx(Tab,{icon:/*#__PURE__*/_jsx(BarChart,{}),label:\"Analytics\"}),/*#__PURE__*/_jsx(Tab,{icon:/*#__PURE__*/_jsx(Settings,{}),label:\"Settings\"})]}),activeTab===3&&/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:8,children:[/*#__PURE__*/_jsx(Card,{sx:{bgcolor:'#1e1e1e',borderRadius:'12px',mb:3},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{color:'white'},children:\"Profile Information\"}),/*#__PURE__*/_jsx(Button,{variant:editMode?\"contained\":\"outlined\",startIcon:editMode?/*#__PURE__*/_jsx(Save,{}):/*#__PURE__*/_jsx(Edit,{}),onClick:()=>{if(editMode){handleProfileUpdate();}else{setEditMode(true);}},disabled:saving,sx:{bgcolor:editMode?'#667eea':'transparent',borderColor:'#667eea',color:editMode?'white':'#667eea','&:hover':{bgcolor:editMode?'#764ba2':'rgba(102, 126, 234, 0.1)',borderColor:'#764ba2'}},children:saving?'Saving...':editMode?'Save Changes':'Edit Profile'})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(CleanInput,{label:\"Display Name\",value:profile.display_name,onChange:event=>handleFieldChange('display_name',event),disabled:!editMode})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(CleanInput,{label:\"Location\",value:profile.location,onChange:event=>handleFieldChange('location',event),disabled:!editMode})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(CleanInput,{label:\"Bio\",multiline:true,value:profile.bio,onChange:event=>handleFieldChange('bio',event),disabled:!editMode})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(CleanInput,{label:\"Website\",value:profile.website,onChange:event=>handleFieldChange('website',event),disabled:!editMode,placeholder:\"https://\"})})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{color:'white',mt:4,mb:3},children:\"Social Links\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(CleanInput,{label:\"Twitter\",value:profile.social_links.twitter,onChange:event=>handleSocialLinkChange('twitter',event),disabled:!editMode,placeholder:\"@username\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(CleanInput,{label:\"Instagram\",value:profile.social_links.instagram,onChange:event=>handleSocialLinkChange('instagram',event),disabled:!editMode,placeholder:\"@username\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(CleanInput,{label:\"SoundCloud\",value:profile.social_links.soundcloud,onChange:event=>handleSocialLinkChange('soundcloud',event),disabled:!editMode,placeholder:\"soundcloud.com/username\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(CleanInput,{label:\"Spotify\",value:profile.social_links.spotify,onChange:event=>handleSocialLinkChange('spotify',event),disabled:!editMode,placeholder:\"Artist name or profile URL\"})})]}),editMode&&/*#__PURE__*/_jsx(Box,{sx:{mt:3,textAlign:'right'},children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(Cancel,{}),onClick:()=>{setEditMode(false);fetchProfileData();},sx:{borderColor:'#667eea',color:'#667eea','&:hover':{borderColor:'#764ba2',color:'#764ba2'}},children:\"Cancel\"})})]})}),/*#__PURE__*/_jsx(Card,{sx:{bgcolor:'#1e1e1e',borderRadius:'12px',mt:3},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{color:'white',mb:3},children:\"Notification Settings\"}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notificationSettings.emailNotifications,onChange:e=>setNotificationSettings(prev=>({...prev,emailNotifications:e.target.checked}))}),label:\"Email Notifications\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notificationSettings.pushNotifications,onChange:e=>setNotificationSettings(prev=>({...prev,pushNotifications:e.target.checked}))}),label:\"Push Notifications\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notificationSettings.trackLikes,onChange:e=>setNotificationSettings(prev=>({...prev,trackLikes:e.target.checked}))}),label:\"Track Likes\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notificationSettings.newFollowers,onChange:e=>setNotificationSettings(prev=>({...prev,newFollowers:e.target.checked}))}),label:\"New Followers\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notificationSettings.roomInvites,onChange:e=>setNotificationSettings(prev=>({...prev,roomInvites:e.target.checked}))}),label:\"Room Invites\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notificationSettings.trackComments,onChange:e=>setNotificationSettings(prev=>({...prev,trackComments:e.target.checked}))}),label:\"Track Comments\"})]}),/*#__PURE__*/_jsx(Divider,{sx:{my:3,bgcolor:'#333'}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{color:'white',mb:3},children:\"Privacy Settings\"}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:privacySettings.profileVisibility==='public',onChange:e=>setPrivacySettings(prev=>({...prev,profileVisibility:e.target.checked?'public':'private'}))}),label:\"Profile Public\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:privacySettings.showEmail,onChange:e=>setPrivacySettings(prev=>({...prev,showEmail:e.target.checked}))}),label:\"Show Email\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:privacySettings.showLocation,onChange:e=>setPrivacySettings(prev=>({...prev,showLocation:e.target.checked}))}),label:\"Show Location\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:privacySettings.allowDirectMessages,onChange:e=>setPrivacySettings(prev=>({...prev,allowDirectMessages:e.target.checked}))}),label:\"Allow Direct Messages\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:privacySettings.showOnlineStatus,onChange:e=>setPrivacySettings(prev=>({...prev,showOnlineStatus:e.target.checked}))}),label:\"Show Online Status\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:privacySettings.showListeningActivity,onChange:e=>setPrivacySettings(prev=>({...prev,showListeningActivity:e.target.checked}))}),label:\"Show Listening Activity\"})]})]})})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Card,{sx:{bgcolor:'#1e1e1e',borderRadius:'12px'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{color:'white',mb:3},children:\"Account Settings\"}),/*#__PURE__*/_jsxs(List,{children:[/*#__PURE__*/_jsxs(ListItem,{button:true,onClick:()=>setPasswordDialog(true),children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"Change Password\",secondary:\"Update your account password\",sx:{color:'white'}}),/*#__PURE__*/_jsx(ListItemSecondaryAction,{children:/*#__PURE__*/_jsx(IconButton,{sx:{color:'#667eea'},onClick:()=>setPasswordDialog(true),children:/*#__PURE__*/_jsx(Security,{})})})]}),/*#__PURE__*/_jsxs(ListItem,{button:true,onClick:()=>setNotificationsDialog(true),children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"Notifications\",secondary:\"Manage notification preferences\",sx:{color:'white'}}),/*#__PURE__*/_jsx(ListItemSecondaryAction,{children:/*#__PURE__*/_jsx(IconButton,{sx:{color:'#667eea'},onClick:()=>setNotificationsDialog(true),children:/*#__PURE__*/_jsx(Notifications,{})})})]}),/*#__PURE__*/_jsxs(ListItem,{button:true,onClick:()=>setPrivacyDialog(true),children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"Privacy Settings\",secondary:\"Control who can see your profile\",sx:{color:'white'}}),/*#__PURE__*/_jsx(ListItemSecondaryAction,{children:/*#__PURE__*/_jsx(IconButton,{sx:{color:'#667eea'},onClick:()=>setPrivacyDialog(true),children:/*#__PURE__*/_jsx(Visibility,{})})})]})]}),/*#__PURE__*/_jsx(Divider,{sx:{my:2,bgcolor:'#333'}}),/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"outlined\",color:\"error\",startIcon:/*#__PURE__*/_jsx(Delete,{}),children:\"Delete Account\"})]})})})]}),activeTab===0&&/*#__PURE__*/_jsx(Box,{children:syncedUserTracks.length>0?/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",sx:{color:'white'},children:[\"My Tracks (\",syncedUserTracks.length,\")\"]}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\"// startIcon for AI removed\n,onClick:()=>setAiAnalysisDialog(true),sx:{borderColor:'#667eea',color:'#667eea','&:hover':{borderColor:'#764ba2',color:'#764ba2'}}})]})}),syncedUserTracks.map((track,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(TrackCard,{track:track,onPlay:()=>playTrack(track,syncedUserTracks),showActions:true})},track.id))]}):/*#__PURE__*/_jsx(Card,{sx:{bgcolor:'#1e1e1e',textAlign:'center',py:6},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(MusicNote,{sx:{fontSize:64,color:'#ccc',mb:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{color:'#ccc',mb:2},children:\"No tracks uploaded yet\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(CloudUpload,{}),onClick:()=>navigate('/upload'),sx:{bgcolor:'#667eea'},children:\"Upload Your First Track\"})]})})}),activeTab===1&&/*#__PURE__*/_jsx(Card,{sx:{bgcolor:'#1e1e1e',textAlign:'center',py:6},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(QueueMusic,{sx:{fontSize:64,color:'#ccc',mb:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{color:'#ccc',mb:2},children:userPlaylists.length===0?'No playlists created yet':`${userPlaylists.length} playlists`}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(QueueMusic,{}),onClick:()=>navigate('/playlists'),sx:{bgcolor:'#667eea'},children:\"Create Your First Playlist\"})]})}),activeTab===2&&/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mb:3},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(Card,{sx:{background:'linear-gradient(135deg, #667eea 60%, #764ba2 100%)',color:'white',boxShadow:3,transition:'transform 0.2s','&:hover':{transform:'scale(1.04)'}},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(MusicNote,{sx:{fontSize:36,color:'white'}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Tracks you have uploaded\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.tracksUploaded})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Tracks Uploaded\"})]})]})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(Card,{sx:{background:'linear-gradient(135deg, #43cea2 60%, #185a9d 100%)',color:'white',boxShadow:3,transition:'transform 0.2s','&:hover':{transform:'scale(1.04)'}},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(BarChart,{sx:{fontSize:36,color:'white'}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Total number of plays on your tracks\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.totalPlays})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Total Plays\"}),/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:Math.min(stats.totalPlays/100,100),sx:{mt:1,height:6,borderRadius:3,bgcolor:'#333'}})]})]})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(Card,{sx:{background:'linear-gradient(135deg, #ff5858 60%, #f09819 100%)',color:'white',boxShadow:3,transition:'transform 0.2s','&:hover':{transform:'scale(1.04)'}},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(Star,{sx:{fontSize:36,color:'white'}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Total likes received on your tracks\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.totalLikes})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Total Likes\"}),/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:Math.min(stats.totalLikes/100,100),sx:{mt:1,height:6,borderRadius:3,bgcolor:'#333'}})]})]})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(Card,{sx:{background:'linear-gradient(135deg, #43cea2 60%, #667eea 100%)',color:'white',boxShadow:3,transition:'transform 0.2s','&:hover':{transform:'scale(1.04)'}},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(People,{sx:{fontSize:36,color:'white'}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"People following you\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.followers})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Followers\"}),/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:Math.min(stats.followers/100,100),sx:{mt:1,height:6,borderRadius:3,bgcolor:'#333'}})]})]})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(Card,{sx:{background:'linear-gradient(135deg, #f7971e 60%, #ffd200 100%)',color:'white',boxShadow:3,transition:'transform 0.2s','&:hover':{transform:'scale(1.04)'}},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(People,{sx:{fontSize:36,color:'white',opacity:0.7}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"People you are following\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.following})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Following\"}),/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:Math.min(stats.following/100,100),sx:{mt:1,height:6,borderRadius:3,bgcolor:'#333'}})]})]})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(Card,{sx:{background:'linear-gradient(135deg, #667eea 60%, #43cea2 100%)',color:'white',boxShadow:3,transition:'transform 0.2s','&:hover':{transform:'scale(1.04)'}},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(QueueMusic,{sx:{fontSize:36,color:'white'}}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Playlists you have created\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:stats.playlistsCreated})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:\"Playlists Created\"}),/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:Math.min(stats.playlistsCreated/100,100),sx:{mt:1,height:6,borderRadius:3,bgcolor:'#333'}})]})]})})})})]}),aiSuggestions&&/*#__PURE__*/_jsx(Card,{sx:{bgcolor:'linear-gradient(135deg, #1a1a1a 80%, #667eea 100%)',mb:3,border:'1px solid #667eea',boxShadow:3},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{color:'white',mb:2,display:'flex',alignItems:'center'},children:\"AI Profile Enhancement Suggestions\"}),aiSuggestions.bio&&aiSuggestions.bio.length>0&&/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{color:'#667eea',mb:1},children:\"Bio Suggestions:\"}),/*#__PURE__*/_jsx(Stack,{spacing:1,children:aiSuggestions.bio.slice(0,3).map((suggestion,index)=>/*#__PURE__*/_jsxs(Box,{sx:{p:2,bgcolor:'#2a2a2a',borderRadius:1,display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{color:'#ccc',flex:1},children:[\"\\\"\",suggestion,\"\\\"\"]}),/*#__PURE__*/_jsx(Button,{size:\"small\",startIcon:/*#__PURE__*/_jsx(AutoAwesome,{}),onClick:()=>applyAIBioSuggestion(suggestion),sx:{color:'#667eea',ml:2},children:\"Apply\"})]},index))})]}),aiSuggestions.genres&&aiSuggestions.genres.length>0&&/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{color:'#667eea',mb:1},children:\"Your Musical DNA:\"}),/*#__PURE__*/_jsx(Stack,{direction:\"row\",spacing:1,flexWrap:\"wrap\",useFlexGap:true,children:aiSuggestions.genres.map((genre,index)=>/*#__PURE__*/_jsx(Chip,{label:genre,size:\"small\",sx:{bgcolor:'#667eea',color:'white'}},index))})]}),aiSuggestions.insights&&/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{color:'#4caf50',mb:1},children:\"AI Insights:\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{color:'#ccc'},children:[\"Musical Style: \",aiSuggestions.style,\" \\u2022 Strengths: \",(_aiSuggestions$insigh=aiSuggestions.insights.strengths)===null||_aiSuggestions$insigh===void 0?void 0:_aiSuggestions$insigh.join(', ')]})]})]})})]})]}),recentlyPlayed&&recentlyPlayed.length>0&&/*#__PURE__*/_jsxs(Box,{sx:{mt:6,mb:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",sx:{fontWeight:'bold',mb:2,color:'white'},children:\"Recently Played\"}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:recentlyPlayed.slice(0,8).map(track=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(TrackCard,{track:track,onPlay:()=>playTrack(track),showActions:true})},track.id))})]}),/*#__PURE__*/_jsx(Snackbar,{open:!!error,autoHideDuration:6000,onClose:()=>setError(null),children:/*#__PURE__*/_jsx(Alert,{onClose:()=>setError(null),severity:\"error\",children:error})}),/*#__PURE__*/_jsx(Snackbar,{open:!!success,autoHideDuration:4000,onClose:()=>setSuccess(null),children:/*#__PURE__*/_jsx(Alert,{onClose:()=>setSuccess(null),severity:\"success\",children:success})}),/*#__PURE__*/_jsx(AvatarUploadDialog,{open:avatarUploadDialog,onClose:()=>setAvatarUploadDialog(false)}),/*#__PURE__*/_jsxs(Dialog,{open:passwordDialog,onClose:()=>setPasswordDialog(false),maxWidth:\"xs\",fullWidth:true,transitionDuration:400,PaperProps:{sx:{background:'linear-gradient(135deg, rgba(40,40,60,0.95) 0%, rgba(60,60,80,0.95) 100%)',backdropFilter:'blur(24px) saturate(180%)',borderRadius:'20px',border:'1.5px solid rgba(255,255,255,0.10)',boxShadow:'0 8px 40px 0 rgba(102,126,234,0.18)'}},children:[/*#__PURE__*/_jsx(DialogTitle,{sx:{color:'white',fontWeight:700,fontSize:'1.3rem',pb:1},children:\"Change Password\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(TextField,{label:\"Current Password\",type:\"password\",fullWidth:true,sx:{mb:2},value:passwordForm.currentPassword,onChange:e=>setPasswordForm({...passwordForm,currentPassword:e.target.value})}),/*#__PURE__*/_jsx(TextField,{label:\"New Password\",type:\"password\",fullWidth:true,sx:{mb:2},value:passwordForm.newPassword,onChange:e=>setPasswordForm({...passwordForm,newPassword:e.target.value})}),/*#__PURE__*/_jsx(TextField,{label:\"Confirm New Password\",type:\"password\",fullWidth:true,sx:{mb:2},value:passwordForm.confirmPassword,onChange:e=>setPasswordForm({...passwordForm,confirmPassword:e.target.value})})]}),/*#__PURE__*/_jsxs(DialogActions,{sx:{p:3,justifyContent:'center',gap:2},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setPasswordDialog(false),sx:{color:'#fff',background:'rgba(255,255,255,0.08)',borderRadius:2,px:3,fontWeight:500,boxShadow:'0 2px 8px 0 rgba(102,126,234,0.10)',transition:'background 0.2s','&:hover':{background:'rgba(255,255,255,0.18)'}},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleChangePassword,variant:\"contained\",sx:{bgcolor:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'#fff',borderRadius:2,px:3,fontWeight:600,boxShadow:'0 4px 16px 0 rgba(102,126,234,0.18)',transition:'background 0.2s','&:hover':{bgcolor:'linear-gradient(135deg, #764ba2 0%, #667eea 100%)'}},children:\"Save\"})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:notificationsDialog,onClose:()=>setNotificationsDialog(false),maxWidth:\"xs\",fullWidth:true,transitionDuration:400,PaperProps:{sx:{background:'linear-gradient(135deg, rgba(40,40,60,0.95) 0%, rgba(60,60,80,0.95) 100%)',backdropFilter:'blur(24px) saturate(180%)',borderRadius:'20px',border:'1.5px solid rgba(255,255,255,0.10)',boxShadow:'0 8px 40px 0 rgba(102,126,234,0.18)'}},children:[/*#__PURE__*/_jsx(DialogTitle,{sx:{color:'white',fontWeight:700,fontSize:'1.3rem',pb:1},children:\"Notification Settings\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notificationSettings.emailNotifications,onChange:e=>setNotificationSettings({...notificationSettings,emailNotifications:e.target.checked})}),label:\"Email Notifications\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notificationSettings.pushNotifications,onChange:e=>setNotificationSettings({...notificationSettings,pushNotifications:e.target.checked})}),label:\"Push Notifications\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notificationSettings.trackLikes,onChange:e=>setNotificationSettings({...notificationSettings,trackLikes:e.target.checked})}),label:\"Track Likes\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notificationSettings.newFollowers,onChange:e=>setNotificationSettings({...notificationSettings,newFollowers:e.target.checked})}),label:\"New Followers\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notificationSettings.roomInvites,onChange:e=>setNotificationSettings({...notificationSettings,roomInvites:e.target.checked})}),label:\"Room Invites\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:notificationSettings.trackComments,onChange:e=>setNotificationSettings({...notificationSettings,trackComments:e.target.checked})}),label:\"Track Comments\"})]})}),/*#__PURE__*/_jsxs(DialogActions,{sx:{p:3,justifyContent:'center',gap:2},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setNotificationsDialog(false),sx:{color:'#fff',background:'rgba(255,255,255,0.08)',borderRadius:2,px:3,fontWeight:500,boxShadow:'0 2px 8px 0 rgba(102,126,234,0.10)',transition:'background 0.2s','&:hover':{background:'rgba(255,255,255,0.18)'}},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSaveNotifications,variant:\"contained\",sx:{bgcolor:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'#fff',borderRadius:2,px:3,fontWeight:600,boxShadow:'0 4px 16px 0 rgba(102,126,234,0.18)',transition:'background 0.2s','&:hover':{bgcolor:'linear-gradient(135deg, #764ba2 0%, #667eea 100%)'}},children:\"Save\"})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:privacyDialog,onClose:()=>setPrivacyDialog(false),maxWidth:\"xs\",fullWidth:true,transitionDuration:400,PaperProps:{sx:{background:'linear-gradient(135deg, rgba(40,40,60,0.95) 0%, rgba(60,60,80,0.95) 100%)',backdropFilter:'blur(24px) saturate(180%)',borderRadius:'20px',border:'1.5px solid rgba(255,255,255,0.10)',boxShadow:'0 8px 40px 0 rgba(102,126,234,0.18)'}},children:[/*#__PURE__*/_jsx(DialogTitle,{sx:{color:'white',fontWeight:700,fontSize:'1.3rem',pb:1},children:\"Privacy Settings\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(FormControl,{component:\"fieldset\",sx:{width:'100%'},children:[/*#__PURE__*/_jsx(FormLabel,{component:\"legend\",sx:{color:'#fff',mb:2},children:\"Profile Visibility\"}),/*#__PURE__*/_jsxs(RadioGroup,{value:privacySettings.profileVisibility,onChange:e=>setPrivacySettings({...privacySettings,profileVisibility:e.target.value}),row:true,children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"public\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"Public\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"private\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"Private\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"friends\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"Friends Only\"})]}),/*#__PURE__*/_jsxs(FormGroup,{sx:{mt:2},children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:privacySettings.showEmail,onChange:e=>setPrivacySettings({...privacySettings,showEmail:e.target.checked})}),label:\"Show Email\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:privacySettings.showLocation,onChange:e=>setPrivacySettings({...privacySettings,showLocation:e.target.checked})}),label:\"Show Location\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:privacySettings.allowDirectMessages,onChange:e=>setPrivacySettings({...privacySettings,allowDirectMessages:e.target.checked})}),label:\"Allow Direct Messages\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:privacySettings.showOnlineStatus,onChange:e=>setPrivacySettings({...privacySettings,showOnlineStatus:e.target.checked})}),label:\"Show Online Status\"}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Switch,{checked:privacySettings.showListeningActivity,onChange:e=>setPrivacySettings({...privacySettings,showListeningActivity:e.target.checked})}),label:\"Show Listening Activity\"})]})]})}),/*#__PURE__*/_jsxs(DialogActions,{sx:{p:3,justifyContent:'center',gap:2},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setPrivacyDialog(false),sx:{color:'#fff',background:'rgba(255,255,255,0.08)',borderRadius:2,px:3,fontWeight:500,boxShadow:'0 2px 8px 0 rgba(102,126,234,0.10)',transition:'background 0.2s','&:hover':{background:'rgba(255,255,255,0.18)'}},children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSavePrivacy,variant:\"contained\",sx:{bgcolor:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'#fff',borderRadius:2,px:3,fontWeight:600,boxShadow:'0 4px 16px 0 rgba(102,126,234,0.18)',transition:'background 0.2s','&:hover':{bgcolor:'linear-gradient(135deg, #764ba2 0%, #667eea 100%)'}},children:\"Save\"})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:aiAnalysisDialog,onClose:()=>setAiAnalysisDialog(false),maxWidth:\"sm\",fullWidth:true,transitionDuration:400,PaperProps:{sx:{background:'linear-gradient(135deg, rgba(40,40,60,0.95) 0%, rgba(60,60,80,0.95) 100%)',backdropFilter:'blur(24px) saturate(180%)',borderRadius:'20px',border:'1.5px solid rgba(255,255,255,0.10)',boxShadow:'0 8px 40px 0 rgba(102,126,234,0.18)'}},children:[/*#__PURE__*/_jsx(DialogTitle,{sx:{color:'white',fontWeight:700,fontSize:'1.3rem',pb:1},children:\"AI Track Analysis\"}),/*#__PURE__*/_jsx(DialogContent,{children:latestAIAnalysis?/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{color:'#667eea',mb:2},children:\"AI Analysis Result\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{color:'#fff',mb:2},children:latestAIAnalysis.summary}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{color:'#fff',mb:1},children:\"Key Insights:\"}),/*#__PURE__*/_jsx(List,{children:(_latestAIAnalysis$ins=latestAIAnalysis.insights)===null||_latestAIAnalysis$ins===void 0?void 0:_latestAIAnalysis$ins.map((insight,idx)=>/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:insight})},idx))})]}):/*#__PURE__*/_jsx(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'center',minHeight:120},children:/*#__PURE__*/_jsx(CircularProgress,{color:\"secondary\"})})}),/*#__PURE__*/_jsx(DialogActions,{sx:{p:3,justifyContent:'center',gap:2},children:/*#__PURE__*/_jsx(Button,{onClick:()=>setAiAnalysisDialog(false),sx:{color:'#fff',background:'rgba(255,255,255,0.08)',borderRadius:2,px:3,fontWeight:500,boxShadow:'0 2px 8px 0 rgba(102,126,234,0.10)',transition:'background 0.2s','&:hover':{background:'rgba(255,255,255,0.18)'}},children:\"Close\"})})]})]});};export default Profile;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}