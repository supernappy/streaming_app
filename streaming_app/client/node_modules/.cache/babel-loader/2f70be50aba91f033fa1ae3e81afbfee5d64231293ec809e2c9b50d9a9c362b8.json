{"ast":null,"code":"var _jsxFileName = \"/Users/walesolagbade/streaming_app/client/src/components/RoomAudioPlayer_new.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Box, Paper, Typography, IconButton, Slider, List, ListItem, ListItemText, ListItemAvatar, Avatar, Chip, Dialog, DialogTitle, DialogContent, Button, TextField, Tooltip } from '@mui/material';\nimport { PlayArrow, Pause, SkipNext, SkipPrevious, VolumeUp, QueueMusic, Add, MusicNote } from '@mui/icons-material';\nimport { tracksAPI } from '../services/api';\nimport socketService from '../services/socketService';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RoomAudioPlayer = ({\n  room,\n  isHost,\n  onAddTrack,\n  tracks = []\n}) => {\n  _s();\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTrack, setCurrentTrack] = useState(null);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [volume, setVolume] = useState(70);\n  const [showAddTrack, setShowAddTrack] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [availableTracks, setAvailableTracks] = useState([]);\n  const [isLoadingTracks, setIsLoadingTracks] = useState(false);\n  const [isSyncing, setIsSyncing] = useState(false);\n  const [connectedUsers, setConnectedUsers] = useState([]);\n  const audioRef = useRef(null);\n  const videoRef = useRef(null);\n  const syncTimeoutRef = useRef(null);\n  useEffect(() => {\n    if (tracks.length > 0 && !currentTrack) {\n      console.log('=== ROOM AUDIO DEBUG ===');\n      console.log('Setting first track as current:', tracks[0]);\n      console.log('Track file_url:', tracks[0].file_url);\n      console.log('Track url:', tracks[0].url);\n      setCurrentTrack(tracks[0]);\n    }\n  }, [tracks, currentTrack]);\n\n  // Utility: is current track an MP4?\n  const isCurrentTrackMp4 = currentTrack && (currentTrack.file_url || currentTrack.url || '').toLowerCase().endsWith('.mp4');\n  useEffect(() => {\n    const media = isCurrentTrackMp4 ? videoRef.current : audioRef.current;\n    if (!media) return;\n    const updateTime = () => setCurrentTime(media.currentTime);\n    const updateDuration = () => setDuration(media.duration);\n    const handleLoadStart = () => {\n      console.log('ğŸ”„ Room media: Load started for:', currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.title);\n    };\n    const handleCanPlay = () => {\n      console.log('âœ… Room media: Can play:', currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.title);\n    };\n    const handleError = e => {\n      console.error('âŒ Room media error:', e);\n      console.error('âŒ Media error for track:', currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.title);\n      console.error('âŒ Media src:', media.src);\n    };\n    media.addEventListener('timeupdate', updateTime);\n    media.addEventListener('loadedmetadata', updateDuration);\n    media.addEventListener('loadstart', handleLoadStart);\n    media.addEventListener('canplay', handleCanPlay);\n    media.addEventListener('error', handleError);\n    return () => {\n      media.removeEventListener('timeupdate', updateTime);\n      media.removeEventListener('loadedmetadata', updateDuration);\n      media.removeEventListener('loadstart', handleLoadStart);\n      media.removeEventListener('canplay', handleCanPlay);\n      media.removeEventListener('error', handleError);\n    };\n  }, [currentTrack, isCurrentTrackMp4]);\n\n  // Socket connection and synchronization\n  useEffect(() => {\n    const initializeSocket = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) {\n          console.warn('No auth token found for socket connection');\n          return;\n        }\n\n        // Connect to socket service\n        await socketService.connect(token);\n\n        // Join room\n        socketService.joinRoom(room.id, isHost);\n\n        // Set up event listeners\n        socketService.on('playback-state-sync', handlePlaybackStateSync);\n        socketService.on('sync-play', handleSyncPlay);\n        socketService.on('sync-pause', handleSyncPause);\n        socketService.on('sync-seek', handleSyncSeek);\n        socketService.on('sync-track-change', handleSyncTrackChange);\n        socketService.on('sync-volume-change', handleSyncVolumeChange);\n        socketService.on('user-joined', handleUserJoined);\n        socketService.on('user-left', handleUserLeft);\n        console.log('ğŸ”— Socket service initialized for room', room.id);\n      } catch (error) {\n        console.error('Failed to initialize socket service:', error);\n      }\n    };\n    if (room !== null && room !== void 0 && room.id) {\n      initializeSocket();\n    }\n    return () => {\n      // Clean up socket listeners\n      socketService.off('playback-state-sync', handlePlaybackStateSync);\n      socketService.off('sync-play', handleSyncPlay);\n      socketService.off('sync-pause', handleSyncPause);\n      socketService.off('sync-seek', handleSyncSeek);\n      socketService.off('sync-track-change', handleSyncTrackChange);\n      socketService.off('sync-volume-change', handleSyncVolumeChange);\n      socketService.off('user-joined', handleUserJoined);\n      socketService.off('user-left', handleUserLeft);\n      socketService.leaveRoom();\n    };\n  }, [room === null || room === void 0 ? void 0 : room.id, isHost]);\n\n  // Socket event handlers\n  const getMediaRef = () => isCurrentTrackMp4 ? videoRef : audioRef;\n  const handlePlaybackStateSync = data => {\n    console.log('ğŸ”„ Syncing playback state:', data);\n    setIsSyncing(true);\n    if (data.currentTrackId && tracks.length > 0) {\n      const track = tracks.find(t => t.id === data.currentTrackId);\n      if (track && track !== currentTrack) {\n        setCurrentTrack(track);\n      }\n    }\n    const media = getMediaRef().current;\n    if (media) {\n      media.currentTime = data.currentTime || 0;\n      media.volume = (data.volume || 0.7) / 100;\n      if (data.isPlaying && !isPlaying) {\n        media.play().catch(console.error);\n        setIsPlaying(true);\n      } else if (!data.isPlaying && isPlaying) {\n        media.pause();\n        setIsPlaying(false);\n      }\n    }\n    setTimeout(() => setIsSyncing(false), 500);\n  };\n  const handleSyncPlay = data => {\n    console.log('â–¶ï¸ Received sync play command:', data);\n    if (!isHost) {\n      const media = getMediaRef().current;\n      if (media) {\n        setIsSyncing(true);\n        media.currentTime = data.currentTime || 0;\n        media.play().then(() => {\n          setIsPlaying(true);\n          setTimeout(() => setIsSyncing(false), 500);\n        }).catch(console.error);\n      }\n    }\n  };\n  const handleSyncPause = data => {\n    console.log('â¸ï¸ Received sync pause command:', data);\n    if (!isHost) {\n      const media = getMediaRef().current;\n      if (media) {\n        setIsSyncing(true);\n        media.currentTime = data.currentTime || 0;\n        media.pause();\n        setIsPlaying(false);\n        setTimeout(() => setIsSyncing(false), 500);\n      }\n    }\n  };\n  const handleSyncSeek = data => {\n    console.log('â© Received sync seek command:', data);\n    if (!isHost) {\n      const media = getMediaRef().current;\n      if (media) {\n        setIsSyncing(true);\n        media.currentTime = data.currentTime;\n        setTimeout(() => setIsSyncing(false), 500);\n      }\n    }\n  };\n  const handleSyncTrackChange = data => {\n    console.log('ğŸµ Received sync track change:', data);\n    if (!isHost && tracks.length > 0) {\n      const track = tracks.find(t => t.id === data.trackId);\n      if (track) {\n        setIsSyncing(true);\n        setCurrentTrack(track);\n        setCurrentTime(0);\n        if (data.autoPlay) {\n          setTimeout(() => {\n            const media = getMediaRef().current;\n            if (media) {\n              media.play().then(() => {\n                setIsPlaying(true);\n              }).catch(console.error);\n            }\n          }, 100);\n        }\n        setTimeout(() => setIsSyncing(false), 500);\n      }\n    }\n  };\n  const handleSyncVolumeChange = data => {\n    console.log('ğŸ”Š Received sync volume change:', data);\n    if (!isHost) {\n      const media = getMediaRef().current;\n      if (media) {\n        setVolume(data.volume);\n        media.volume = data.volume / 100;\n      }\n    }\n  };\n  const handleUserJoined = data => {\n    console.log('ğŸ‘‹ User joined:', data);\n    setConnectedUsers(prev => [...prev.filter(u => u.id !== data.user.id), data.user]);\n  };\n  const handleUserLeft = data => {\n    console.log('ğŸ‘‹ User left:', data);\n    setConnectedUsers(prev => prev.filter(u => u.id !== data.user.id));\n  };\n  const handlePlayPause = async () => {\n    const media = getMediaRef().current;\n    if (!media || isSyncing) return;\n    try {\n      if (isPlaying) {\n        // Pause\n        media.pause();\n        setIsPlaying(false);\n        // If host, sync pause with all participants\n        if (isHost) {\n          socketService.hostPause(media.currentTime);\n        }\n      } else {\n        // Play\n        await media.play();\n        setIsPlaying(true);\n        // If host, sync play with all participants\n        if (isHost && currentTrack) {\n          socketService.hostPlay(currentTrack.id, media.currentTime);\n        }\n      }\n    } catch (error) {\n      console.error('Error in handlePlayPause:', error);\n    }\n  };\n  const handleTrackClick = (track, index) => {\n    console.log('Track clicked:', track.title, 'Index:', index);\n    if (isSyncing) {\n      console.log('Ignoring track click during sync');\n      return;\n    }\n    setCurrentTrack(track);\n    setCurrentTime(0);\n    // If host, sync track change with all participants\n    if (isHost) {\n      socketService.hostChangeTrack(track.id, true); // autoPlay = true\n    } else {\n      const media = (track.file_url || track.url || '').toLowerCase().endsWith('.mp4') ? videoRef.current : audioRef.current;\n      if (media) {\n        media.load();\n        media.play().then(() => {\n          setIsPlaying(true);\n        }).catch(console.error);\n      }\n    }\n  };\n  const handlePrevious = () => {\n    if (!tracks.length || isSyncing) return;\n    const currentIndex = tracks.findIndex(track => track.id === (currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.id));\n    const prevIndex = currentIndex > 0 ? currentIndex - 1 : tracks.length - 1;\n    const prevTrack = tracks[prevIndex];\n    if (prevTrack) {\n      handleTrackClick(prevTrack, prevIndex);\n    }\n  };\n  const handleNext = () => {\n    if (!tracks.length || isSyncing) return;\n    const currentIndex = tracks.findIndex(track => track.id === (currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.id));\n    const nextIndex = currentIndex < tracks.length - 1 ? currentIndex + 1 : 0;\n    const nextTrack = tracks[nextIndex];\n    if (nextTrack) {\n      handleTrackClick(nextTrack, nextIndex);\n    }\n  };\n  const handleVolumeChange = (event, newValue) => {\n    setVolume(newValue);\n    if (audioRef.current) {\n      audioRef.current.volume = newValue / 100;\n\n      // If host, sync volume with all participants\n      if (isHost) {\n        socketService.hostVolumeChange(newValue);\n      }\n    }\n  };\n  const handleSeek = (event, newValue) => {\n    if (!isSyncing && audioRef.current) {\n      if (audioRef.current) {\n        audioRef.current.currentTime = newValue;\n      }\n      setCurrentTime(newValue);\n      // If host, sync seek with all participants\n      if (isHost) {\n        socketService.hostSeek(newValue);\n      }\n    }\n  };\n\n  // Original functions continue below...\n  const originalHandlePlayPause = async () => {\n    const audio = audioRef.current;\n    if (!audio) return;\n    try {\n      if (isPlaying) {\n        audio.pause();\n        setIsPlaying(false);\n      } else {\n        console.log('ğŸµ Room audio: Attempting to play:', currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.title);\n        console.log('ğŸµ Audio src:', audio.src);\n        await audio.play();\n        setIsPlaying(true);\n        console.log('âœ… Room audio: Playing successfully');\n      }\n    } catch (error) {\n      console.error('âŒ Room audio play error:', error);\n      setIsPlaying(false);\n    }\n  };\n\n  // Original handleNext and handlePrevious removed - using synchronized versions above\n\n  const handleSeekLocal = (event, newValue) => {\n    const audio = audioRef.current;\n    audio.currentTime = newValue;\n    setCurrentTime(newValue);\n  };\n  const handleVolumeChangeLocal = (event, newValue) => {\n    const audio = audioRef.current;\n    audio.volume = newValue / 100;\n    setVolume(newValue);\n  };\n  const handleAddTrack = async () => {\n    try {\n      console.log('=== DEBUG: Starting handleAddTrack ===');\n      console.log('Is host:', isHost);\n      console.log('Room:', room);\n      console.log('Current tracks:', tracks);\n      setIsLoadingTracks(true);\n      console.log('Token exists:', !!localStorage.getItem('token'));\n\n      // Get available tracks from user's library\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('No authentication token found. Please log in again.');\n      }\n      console.log('Fetching user tracks...');\n      const response = await tracksAPI.getUserTracks();\n      console.log('Tracks API response:', response);\n      console.log('Response status:', response.status);\n      console.log('Response data:', response.data);\n      if (response.data && response.data.tracks) {\n        const extractedTracks = response.data.tracks;\n        console.log('Extracted tracks:', extractedTracks);\n        console.log('Number of tracks found:', extractedTracks.length);\n        setAvailableTracks(extractedTracks);\n\n        // Add explicit debugging for dialog display\n        console.log('ğŸ¯ TRACKS AVAILABLE FOR SELECTION:');\n        extractedTracks.forEach((track, index) => {\n          console.log(`${index + 1}. \"${track.title}\" by ${track.artist} (ID: ${track.id})`);\n        });\n        console.log('ğŸ¯ Dialog will now show these tracks. Click on any track to add it to the room.');\n\n        // ğŸš¨ BYPASS DIALOG - Auto-add the first track for testing\n        if (extractedTracks.length > 0) {\n          const firstTrack = extractedTracks[0];\n          console.log('ğŸš¨ BYPASS: Auto-adding first track for testing:', firstTrack.title);\n\n          // Call handleSelectTrack directly\n          if (onAddTrack) {\n            try {\n              console.log('ğŸ¯ CALLING onAddTrack directly with first track...');\n              await onAddTrack(firstTrack);\n              alert(`âœ… SUCCESS! Auto-added \"${firstTrack.title}\" to the room!`);\n              setShowAddTrack(false);\n            } catch (error) {\n              console.error('âŒ Error calling onAddTrack:', error);\n              alert(`âŒ Error adding track: ${error.message}`);\n            }\n          } else {\n            console.error('âŒ onAddTrack function not available');\n            alert('âŒ onAddTrack function not available');\n          }\n        }\n      } else {\n        console.warn('No tracks found in response');\n        setAvailableTracks([]);\n        alert('No tracks found in your library');\n      }\n\n      // Still open dialog for manual testing if needed\n      setShowAddTrack(true);\n      console.log('=== DEBUG: handleAddTrack completed successfully ===');\n      console.log('ğŸš¨ NEXT STEP: Track should now be auto-added! Check for success message.');\n    } catch (error) {\n      var _error$response, _error$response2, _error$response3, _error$response4, _error$response5, _error$response6;\n      console.error('=== DEBUG: Error in handleAddTrack ===');\n      console.error('Error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error details:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n      console.error('Error status:', (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status);\n      console.error('Error headers:', (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.headers);\n\n      // More specific error messages\n      if (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status) === 401) {\n        alert('Authentication failed. Please log in again and try.');\n      } else if (((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.status) === 403) {\n        alert('You do not have permission to access your tracks.');\n      } else if (((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.status) === 500) {\n        alert('Server error. Please try again later.');\n      } else {\n        alert(`Failed to load your tracks: ${error.message}. Please check the console for details.`);\n      }\n    } finally {\n      setIsLoadingTracks(false);\n    }\n  };\n  const handleSelectTrack = async track => {\n    try {\n      console.log('ğŸµ === DEBUG: Starting handleSelectTrack ===');\n      console.log('Selected track:', track);\n      console.log('Track title:', track.title);\n      console.log('Track ID:', track.id);\n      console.log('Room ID:', room === null || room === void 0 ? void 0 : room.id);\n      console.log('onAddTrack function:', typeof onAddTrack);\n\n      // Show immediate feedback to user\n      const originalButton = document.activeElement;\n      if (originalButton && originalButton.textContent.includes('Add')) {\n        originalButton.innerHTML = 'â³ Adding...';\n        originalButton.disabled = true;\n      }\n      if (!onAddTrack) {\n        console.error('âŒ onAddTrack function is not provided');\n        alert('Cannot add track: missing callback function');\n        return;\n      }\n      if (!track || !track.id) {\n        console.error('âŒ Invalid track selected:', track);\n        alert('Invalid track selected');\n        return;\n      }\n      console.log('ğŸ“¤ Calling onAddTrack with track:', track.title);\n      await onAddTrack(track);\n      setShowAddTrack(false);\n      setSearchQuery('');\n      console.log('âœ… === DEBUG: Track added successfully! ===');\n      console.log('Track title added:', track.title);\n\n      // Show success feedback\n      alert(`âœ… Successfully added \"${track.title}\" to the room!`);\n    } catch (error) {\n      var _error$response7, _error$response8, _error$response9, _error$response0, _error$response1, _error$response10;\n      console.error('âŒ === DEBUG: Error in handleSelectTrack ===');\n      console.error('Error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error details:', (_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.data);\n      console.error('Error status:', (_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : _error$response8.status);\n\n      // More specific error messages\n      if (((_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : _error$response9.status) === 403) {\n        alert('âŒ You do not have permission to add tracks to this room.');\n      } else if (((_error$response0 = error.response) === null || _error$response0 === void 0 ? void 0 : _error$response0.status) === 404) {\n        alert('âŒ Track or room not found.');\n      } else if (((_error$response1 = error.response) === null || _error$response1 === void 0 ? void 0 : _error$response1.status) === 409) {\n        alert('âš ï¸ This track is already in the room.');\n      } else if (((_error$response10 = error.response) === null || _error$response10 === void 0 ? void 0 : _error$response10.status) === 500) {\n        alert('âŒ Server error. Please try again later.');\n      } else {\n        alert(`âŒ Failed to add track: ${error.message}`);\n      }\n    }\n  };\n  const handleSearchChange = event => {\n    setSearchQuery(event.target.value);\n  };\n  const formatTime = time => {\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n  const filteredTracks = availableTracks.filter(track => track.title.toLowerCase().includes(searchQuery.toLowerCase()) || track.artist.toLowerCase().includes(searchQuery.toLowerCase()));\n  if (!currentTrack && tracks.length === 0) {\n    return /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        p: 3,\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(QueueMusic, {\n        sx: {\n          fontSize: 48,\n          color: 'text.secondary',\n          mb: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"text.secondary\",\n        gutterBottom: true,\n        children: \"No tracks in this room yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        startIcon: /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 572,\n          columnNumber: 22\n        }, this),\n        onClick: handleAddTrack,\n        disabled: isLoadingTracks,\n        sx: {\n          mt: 2\n        },\n        children: isLoadingTracks ? 'Loading...' : 'Add First Track'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 564,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    sx: {\n      p: 3\n    },\n    children: [isCurrentTrackMp4 ? /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      src: (currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.file_url) || (currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.url),\n      onEnded: handleNext,\n      crossOrigin: \"anonymous\",\n      style: {\n        width: '100%',\n        maxHeight: 320,\n        marginBottom: 16,\n        background: '#000'\n      },\n      controls: true,\n      poster: currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.cover_url\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 587,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      src: (currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.file_url) || (currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.url),\n      onEnded: handleNext,\n      crossOrigin: \"anonymous\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 597,\n      columnNumber: 9\n    }, this), currentTrack && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        sx: {\n          width: 56,\n          height: 56,\n          mr: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(MusicNote, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          noWrap: true,\n          children: [currentTrack.title, isSyncing && /*#__PURE__*/_jsxDEV(Chip, {\n            label: \"Syncing...\",\n            size: \"small\",\n            color: \"primary\",\n            sx: {\n              ml: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          noWrap: true,\n          children: [currentTrack.artist, isHost && /*#__PURE__*/_jsxDEV(Chip, {\n            label: \"HOST\",\n            size: \"small\",\n            color: \"success\",\n            sx: {\n              ml: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 17\n          }, this), connectedUsers.length > 0 && /*#__PURE__*/_jsxDEV(Chip, {\n            label: `${connectedUsers.length + 1} users`,\n            size: \"small\",\n            color: \"info\",\n            sx: {\n              ml: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Chip, {\n        label: `${tracks.findIndex(t => t.id === currentTrack.id) + 1} of ${tracks.length}`,\n        size: \"small\",\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 642,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 606,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Previous\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handlePrevious,\n          disabled: !currentTrack || tracks.findIndex(t => t.id === currentTrack.id) === 0,\n          children: /*#__PURE__*/_jsxDEV(SkipPrevious, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 652,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: isPlaying ? \"Pause\" : \"Play\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handlePlayPause,\n          disabled: !currentTrack,\n          sx: {\n            mx: 1\n          },\n          children: isPlaying ? /*#__PURE__*/_jsxDEV(Pause, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 26\n          }, this) : /*#__PURE__*/_jsxDEV(PlayArrow, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 662,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 661,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Next\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleNext,\n          disabled: !currentTrack || tracks.findIndex(t => t.id === currentTrack.id) === tracks.length - 1,\n          children: /*#__PURE__*/_jsxDEV(SkipNext, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 671,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 7\n    }, this), currentTrack && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        sx: {\n          mr: 1,\n          minWidth: '40px'\n        },\n        children: formatTime(currentTime)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 684,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Slider, {\n        value: currentTime,\n        max: duration || 0,\n        onChange: isHost ? handleSeek : handleSeekLocal,\n        sx: {\n          flexGrow: 1,\n          mx: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 687,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        sx: {\n          ml: 1,\n          minWidth: '40px'\n        },\n        children: formatTime(duration)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 693,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 683,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        alignItems: 'center',\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(VolumeUp, {\n        sx: {\n          mr: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Slider, {\n        value: volume,\n        onChange: handleVolumeChange,\n        sx: {\n          width: 100\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 702,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 7\n    }, this), tracks.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: [\"Queue (\", tracks.length, \" tracks)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          size: \"small\",\n          startIcon: /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 720,\n            columnNumber: 26\n          }, this),\n          onClick: handleAddTrack,\n          disabled: isLoadingTracks,\n          children: isLoadingTracks ? 'Loading...' : 'Add Track'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 712,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        sx: {\n          maxHeight: 200,\n          overflow: 'auto'\n        },\n        children: tracks.map((track, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n          button: true,\n          selected: (currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.id) === track.id,\n          onClick: () => handleTrackClick(track, index),\n          children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n            children: /*#__PURE__*/_jsxDEV(Avatar, {\n              sx: {\n                width: 32,\n                height: 32\n              },\n              children: /*#__PURE__*/_jsxDEV(MusicNote, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 738,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 736,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: track.title,\n            secondary: track.artist,\n            primaryTypographyProps: {\n              noWrap: true\n            },\n            secondaryTypographyProps: {\n              noWrap: true\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 741,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            color: \"text.secondary\",\n            children: index + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 17\n          }, this)]\n        }, track.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 728,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 711,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showAddTrack,\n      onClose: () => setShowAddTrack(false),\n      maxWidth: \"md\",\n      fullWidth: true,\n      sx: {\n        '& .MuiDialog-paper': {\n          zIndex: 9999\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: [\"Add Track to Room\", /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          sx: {\n            mt: 1\n          },\n          children: \"\\uD83C\\uDFB5 Click on any track below or click the \\\"Add\\\" button to add it to the room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 770,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 768,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          placeholder: \"Search your tracks...\",\n          value: searchQuery,\n          onChange: handleSearchChange,\n          sx: {\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 775,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle2\",\n          gutterBottom: true,\n          children: [\"Your Tracks (\", availableTracks.length, \" available)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 783,\n          columnNumber: 11\n        }, this), isLoadingTracks ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            textAlign: 'center',\n            py: 3\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Loading your tracks...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 788,\n          columnNumber: 13\n        }, this) : availableTracks.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            textAlign: 'center',\n            py: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            color: \"text.secondary\",\n            children: \"No tracks found. Upload some tracks first to add them to the room.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 793,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            sx: {\n              mt: 2\n            },\n            onClick: () => window.location.href = '/upload',\n            children: \"Upload Tracks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 796,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 792,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"primary\",\n            sx: {\n              mb: 2,\n              fontWeight: 'bold'\n            },\n            children: [\"\\u26A0\\uFE0F DEBUG: \", filteredTracks.length, \" tracks rendered. Click DIRECTLY on the track items below.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 806,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            sx: {\n              maxHeight: 300,\n              overflow: 'auto',\n              border: '2px solid red',\n              borderRadius: 1\n            },\n            children: filteredTracks.map((track, index) => {\n              console.log(`ğŸµ Rendering track ${index + 1}: ${track.title} (ID: ${track.id})`);\n              return /*#__PURE__*/_jsxDEV(ListItem, {\n                button: true,\n                onClick: e => {\n                  console.log('ğŸ¯ LIST ITEM CLICKED:', track.title);\n                  console.log('Event:', e);\n                  console.log('Event target:', e.target);\n                  console.log('Event currentTarget:', e.currentTarget);\n                  handleSelectTrack(track);\n                },\n                sx: {\n                  '&:hover': {\n                    backgroundColor: 'action.hover',\n                    transform: 'scale(1.02)',\n                    transition: 'all 0.2s ease'\n                  },\n                  border: '1px solid blue',\n                  borderRadius: 1,\n                  mb: 1,\n                  cursor: 'pointer',\n                  backgroundColor: 'rgba(0, 255, 0, 0.1)' // Green background for visibility\n                },\n                children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n                  children: /*#__PURE__*/_jsxDEV(Avatar, {\n                    sx: {\n                      bgcolor: 'primary.main'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(MusicNote, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 838,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 837,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 836,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                  primary: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"subtitle1\",\n                    sx: {\n                      fontWeight: 500\n                    },\n                    children: track.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 843,\n                    columnNumber: 27\n                  }, this),\n                  secondary: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: [track.artist, \" \\u2022 \", track.genre || 'Unknown Genre']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 848,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 841,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  size: \"small\",\n                  color: \"secondary\",\n                  sx: {\n                    ml: 2,\n                    minWidth: 80,\n                    backgroundColor: 'red',\n                    '&:hover': {\n                      backgroundColor: 'darkred'\n                    }\n                  },\n                  onClick: e => {\n                    e.stopPropagation();\n                    console.log('ğŸ¯ ADD BUTTON CLICKED for track:', track.title);\n                    console.log('Button event:', e);\n                    console.log('Track details:', track);\n                    handleSelectTrack(track);\n                  },\n                  children: \"\\u2795 Add\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 853,\n                  columnNumber: 23\n                }, this)]\n              }, track.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 813,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"error\",\n            sx: {\n              mt: 2,\n              fontWeight: 'bold'\n            },\n            children: \"\\uD83D\\uDEA8 If you can see tracks above but clicking doesn't work, there's a UI blocking issue!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 879,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 774,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 757,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 584,\n    columnNumber: 5\n  }, this);\n};\n_s(RoomAudioPlayer, \"NTk8f0Qsd/o7Cn61jlyx7IIauGw=\");\n_c = RoomAudioPlayer;\nexport default RoomAudioPlayer;\nvar _c;\n$RefreshReg$(_c, \"RoomAudioPlayer\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Box","Paper","Typography","IconButton","Slider","List","ListItem","ListItemText","ListItemAvatar","Avatar","Chip","Dialog","DialogTitle","DialogContent","Button","TextField","Tooltip","PlayArrow","Pause","SkipNext","SkipPrevious","VolumeUp","QueueMusic","Add","MusicNote","tracksAPI","socketService","jsxDEV","_jsxDEV","Fragment","_Fragment","RoomAudioPlayer","room","isHost","onAddTrack","tracks","_s","isPlaying","setIsPlaying","currentTrack","setCurrentTrack","currentTime","setCurrentTime","duration","setDuration","volume","setVolume","showAddTrack","setShowAddTrack","searchQuery","setSearchQuery","availableTracks","setAvailableTracks","isLoadingTracks","setIsLoadingTracks","isSyncing","setIsSyncing","connectedUsers","setConnectedUsers","audioRef","videoRef","syncTimeoutRef","length","console","log","file_url","url","isCurrentTrackMp4","toLowerCase","endsWith","media","current","updateTime","updateDuration","handleLoadStart","title","handleCanPlay","handleError","e","error","src","addEventListener","removeEventListener","initializeSocket","token","localStorage","getItem","warn","connect","joinRoom","id","on","handlePlaybackStateSync","handleSyncPlay","handleSyncPause","handleSyncSeek","handleSyncTrackChange","handleSyncVolumeChange","handleUserJoined","handleUserLeft","off","leaveRoom","getMediaRef","data","currentTrackId","track","find","t","play","catch","pause","setTimeout","then","trackId","autoPlay","prev","filter","u","user","handlePlayPause","hostPause","hostPlay","handleTrackClick","index","hostChangeTrack","load","handlePrevious","currentIndex","findIndex","prevIndex","prevTrack","handleNext","nextIndex","nextTrack","handleVolumeChange","event","newValue","hostVolumeChange","handleSeek","hostSeek","originalHandlePlayPause","audio","handleSeekLocal","handleVolumeChangeLocal","handleAddTrack","Error","response","getUserTracks","status","extractedTracks","forEach","artist","firstTrack","alert","message","_error$response","_error$response2","_error$response3","_error$response4","_error$response5","_error$response6","headers","handleSelectTrack","originalButton","document","activeElement","textContent","includes","innerHTML","disabled","_error$response7","_error$response8","_error$response9","_error$response0","_error$response1","_error$response10","handleSearchChange","target","value","formatTime","time","minutes","Math","floor","seconds","toString","padStart","filteredTracks","elevation","sx","p","textAlign","children","fontSize","color","mb","fileName","_jsxFileName","lineNumber","columnNumber","variant","gutterBottom","startIcon","onClick","mt","ref","onEnded","crossOrigin","style","width","maxHeight","marginBottom","background","controls","poster","cover_url","display","alignItems","height","mr","flexGrow","noWrap","label","size","ml","justifyContent","mx","minWidth","max","onChange","overflow","map","button","selected","primary","secondary","primaryTypographyProps","secondaryTypographyProps","open","onClose","maxWidth","fullWidth","zIndex","placeholder","py","window","location","href","fontWeight","border","borderRadius","currentTarget","backgroundColor","transform","transition","cursor","bgcolor","genre","stopPropagation","_c","$RefreshReg$"],"sources":["/Users/walesolagbade/streaming_app/client/src/components/RoomAudioPlayer_new.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport {\n  Box,\n  Paper,\n  Typography,\n  IconButton,\n  Slider,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemAvatar,\n  Avatar,\n  Chip,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  Button,\n  TextField,\n  Tooltip\n} from '@mui/material';\nimport {\n  PlayArrow,\n  Pause,\n  SkipNext,\n  SkipPrevious,\n  VolumeUp,\n  QueueMusic,\n  Add,\n  MusicNote\n} from '@mui/icons-material';\nimport { tracksAPI } from '../services/api';\nimport socketService from '../services/socketService';\n\nconst RoomAudioPlayer = ({ room, isHost, onAddTrack, tracks = [] }) => {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTrack, setCurrentTrack] = useState(null);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [volume, setVolume] = useState(70);\n  const [showAddTrack, setShowAddTrack] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [availableTracks, setAvailableTracks] = useState([]);\n  const [isLoadingTracks, setIsLoadingTracks] = useState(false);\n  const [isSyncing, setIsSyncing] = useState(false);\n  const [connectedUsers, setConnectedUsers] = useState([]);\n  const audioRef = useRef(null);\n  const videoRef = useRef(null);\n  const syncTimeoutRef = useRef(null);\n\n  useEffect(() => {\n    if (tracks.length > 0 && !currentTrack) {\n      console.log('=== ROOM AUDIO DEBUG ===');\n      console.log('Setting first track as current:', tracks[0]);\n      console.log('Track file_url:', tracks[0].file_url);\n      console.log('Track url:', tracks[0].url);\n      setCurrentTrack(tracks[0]);\n    }\n  }, [tracks, currentTrack]);\n\n  // Utility: is current track an MP4?\n  const isCurrentTrackMp4 = currentTrack && (currentTrack.file_url || currentTrack.url || '').toLowerCase().endsWith('.mp4');\n\n  useEffect(() => {\n    const media = isCurrentTrackMp4 ? videoRef.current : audioRef.current;\n    if (!media) return;\n\n    const updateTime = () => setCurrentTime(media.currentTime);\n    const updateDuration = () => setDuration(media.duration);\n    const handleLoadStart = () => {\n      console.log('ğŸ”„ Room media: Load started for:', currentTrack?.title);\n    };\n    const handleCanPlay = () => {\n      console.log('âœ… Room media: Can play:', currentTrack?.title);\n    };\n    const handleError = (e) => {\n      console.error('âŒ Room media error:', e);\n      console.error('âŒ Media error for track:', currentTrack?.title);\n      console.error('âŒ Media src:', media.src);\n    };\n\n    media.addEventListener('timeupdate', updateTime);\n    media.addEventListener('loadedmetadata', updateDuration);\n    media.addEventListener('loadstart', handleLoadStart);\n    media.addEventListener('canplay', handleCanPlay);\n    media.addEventListener('error', handleError);\n\n    return () => {\n      media.removeEventListener('timeupdate', updateTime);\n      media.removeEventListener('loadedmetadata', updateDuration);\n      media.removeEventListener('loadstart', handleLoadStart);\n      media.removeEventListener('canplay', handleCanPlay);\n      media.removeEventListener('error', handleError);\n    };\n  }, [currentTrack, isCurrentTrackMp4]);\n\n  // Socket connection and synchronization\n  useEffect(() => {\n    const initializeSocket = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) {\n          console.warn('No auth token found for socket connection');\n          return;\n        }\n\n        // Connect to socket service\n        await socketService.connect(token);\n        \n        // Join room\n        socketService.joinRoom(room.id, isHost);\n\n        // Set up event listeners\n        socketService.on('playback-state-sync', handlePlaybackStateSync);\n        socketService.on('sync-play', handleSyncPlay);\n        socketService.on('sync-pause', handleSyncPause);\n        socketService.on('sync-seek', handleSyncSeek);\n        socketService.on('sync-track-change', handleSyncTrackChange);\n        socketService.on('sync-volume-change', handleSyncVolumeChange);\n        socketService.on('user-joined', handleUserJoined);\n        socketService.on('user-left', handleUserLeft);\n\n        console.log('ğŸ”— Socket service initialized for room', room.id);\n      } catch (error) {\n        console.error('Failed to initialize socket service:', error);\n      }\n    };\n\n    if (room?.id) {\n      initializeSocket();\n    }\n\n    return () => {\n      // Clean up socket listeners\n      socketService.off('playback-state-sync', handlePlaybackStateSync);\n      socketService.off('sync-play', handleSyncPlay);\n      socketService.off('sync-pause', handleSyncPause);\n      socketService.off('sync-seek', handleSyncSeek);\n      socketService.off('sync-track-change', handleSyncTrackChange);\n      socketService.off('sync-volume-change', handleSyncVolumeChange);\n      socketService.off('user-joined', handleUserJoined);\n      socketService.off('user-left', handleUserLeft);\n      \n      socketService.leaveRoom();\n    };\n  }, [room?.id, isHost]);\n\n  // Socket event handlers\n  const getMediaRef = () => (isCurrentTrackMp4 ? videoRef : audioRef);\n\n  const handlePlaybackStateSync = (data) => {\n    console.log('ğŸ”„ Syncing playback state:', data);\n    setIsSyncing(true);\n    if (data.currentTrackId && tracks.length > 0) {\n      const track = tracks.find(t => t.id === data.currentTrackId);\n      if (track && track !== currentTrack) {\n        setCurrentTrack(track);\n      }\n    }\n    const media = getMediaRef().current;\n    if (media) {\n      media.currentTime = data.currentTime || 0;\n      media.volume = (data.volume || 0.7) / 100;\n      if (data.isPlaying && !isPlaying) {\n        media.play().catch(console.error);\n        setIsPlaying(true);\n      } else if (!data.isPlaying && isPlaying) {\n        media.pause();\n        setIsPlaying(false);\n      }\n    }\n    setTimeout(() => setIsSyncing(false), 500);\n  };\n\n  const handleSyncPlay = (data) => {\n    console.log('â–¶ï¸ Received sync play command:', data);\n    if (!isHost) {\n      const media = getMediaRef().current;\n      if (media) {\n        setIsSyncing(true);\n        media.currentTime = data.currentTime || 0;\n        media.play().then(() => {\n          setIsPlaying(true);\n          setTimeout(() => setIsSyncing(false), 500);\n        }).catch(console.error);\n      }\n    }\n  };\n\n  const handleSyncPause = (data) => {\n    console.log('â¸ï¸ Received sync pause command:', data);\n    if (!isHost) {\n      const media = getMediaRef().current;\n      if (media) {\n        setIsSyncing(true);\n        media.currentTime = data.currentTime || 0;\n        media.pause();\n        setIsPlaying(false);\n        setTimeout(() => setIsSyncing(false), 500);\n      }\n    }\n  };\n\n  const handleSyncSeek = (data) => {\n    console.log('â© Received sync seek command:', data);\n    if (!isHost) {\n      const media = getMediaRef().current;\n      if (media) {\n        setIsSyncing(true);\n        media.currentTime = data.currentTime;\n        setTimeout(() => setIsSyncing(false), 500);\n      }\n    }\n  };\n\n  const handleSyncTrackChange = (data) => {\n    console.log('ğŸµ Received sync track change:', data);\n    if (!isHost && tracks.length > 0) {\n      const track = tracks.find(t => t.id === data.trackId);\n      if (track) {\n        setIsSyncing(true);\n        setCurrentTrack(track);\n        setCurrentTime(0);\n        if (data.autoPlay) {\n          setTimeout(() => {\n            const media = getMediaRef().current;\n            if (media) {\n              media.play().then(() => {\n                setIsPlaying(true);\n              }).catch(console.error);\n            }\n          }, 100);\n        }\n        setTimeout(() => setIsSyncing(false), 500);\n      }\n    }\n  };\n\n  const handleSyncVolumeChange = (data) => {\n    console.log('ğŸ”Š Received sync volume change:', data);\n    if (!isHost) {\n      const media = getMediaRef().current;\n      if (media) {\n        setVolume(data.volume);\n        media.volume = data.volume / 100;\n      }\n    }\n  };\n\n  const handleUserJoined = (data) => {\n    console.log('ğŸ‘‹ User joined:', data);\n    setConnectedUsers(prev => [...prev.filter(u => u.id !== data.user.id), data.user]);\n  };\n\n  const handleUserLeft = (data) => {\n    console.log('ğŸ‘‹ User left:', data);\n    setConnectedUsers(prev => prev.filter(u => u.id !== data.user.id));\n  };\n\n  const handlePlayPause = async () => {\n    const media = getMediaRef().current;\n    if (!media || isSyncing) return;\n    try {\n      if (isPlaying) {\n        // Pause\n        media.pause();\n        setIsPlaying(false);\n        // If host, sync pause with all participants\n        if (isHost) {\n          socketService.hostPause(media.currentTime);\n        }\n      } else {\n        // Play\n        await media.play();\n        setIsPlaying(true);\n        // If host, sync play with all participants\n        if (isHost && currentTrack) {\n          socketService.hostPlay(currentTrack.id, media.currentTime);\n        }\n      }\n    } catch (error) {\n      console.error('Error in handlePlayPause:', error);\n    }\n  };\n\n  const handleTrackClick = (track, index) => {\n    console.log('Track clicked:', track.title, 'Index:', index);\n    if (isSyncing) {\n      console.log('Ignoring track click during sync');\n      return;\n    }\n    setCurrentTrack(track);\n    setCurrentTime(0);\n    // If host, sync track change with all participants\n    if (isHost) {\n      socketService.hostChangeTrack(track.id, true); // autoPlay = true\n    } else {\n      const media = (track.file_url || track.url || '').toLowerCase().endsWith('.mp4') ? videoRef.current : audioRef.current;\n      if (media) {\n        media.load();\n        media.play().then(() => {\n          setIsPlaying(true);\n        }).catch(console.error);\n      }\n    }\n  };\n\n  const handlePrevious = () => {\n    if (!tracks.length || isSyncing) return;\n    \n    const currentIndex = tracks.findIndex(track => track.id === currentTrack?.id);\n    const prevIndex = currentIndex > 0 ? currentIndex - 1 : tracks.length - 1;\n    const prevTrack = tracks[prevIndex];\n    \n    if (prevTrack) {\n      handleTrackClick(prevTrack, prevIndex);\n    }\n  };\n\n  const handleNext = () => {\n    if (!tracks.length || isSyncing) return;\n    \n    const currentIndex = tracks.findIndex(track => track.id === currentTrack?.id);\n    const nextIndex = currentIndex < tracks.length - 1 ? currentIndex + 1 : 0;\n    const nextTrack = tracks[nextIndex];\n    \n    if (nextTrack) {\n      handleTrackClick(nextTrack, nextIndex);\n    }\n  };\n\n  const handleVolumeChange = (event, newValue) => {\n    setVolume(newValue);\n    if (audioRef.current) {\n      audioRef.current.volume = newValue / 100;\n      \n      // If host, sync volume with all participants\n      if (isHost) {\n        socketService.hostVolumeChange(newValue);\n      }\n    }\n  };\n\n  const handleSeek = (event, newValue) => {\n    if (!isSyncing && audioRef.current) {\n      if (audioRef.current) {\n        audioRef.current.currentTime = newValue;\n      }\n      setCurrentTime(newValue);\n      // If host, sync seek with all participants\n      if (isHost) {\n        socketService.hostSeek(newValue);\n      }\n    }\n  };\n\n  // Original functions continue below...\n  const originalHandlePlayPause = async () => {\n    const audio = audioRef.current;\n    if (!audio) return;\n    \n    try {\n      if (isPlaying) {\n        audio.pause();\n        setIsPlaying(false);\n      } else {\n        console.log('ğŸµ Room audio: Attempting to play:', currentTrack?.title);\n        console.log('ğŸµ Audio src:', audio.src);\n        await audio.play();\n        setIsPlaying(true);\n        console.log('âœ… Room audio: Playing successfully');\n      }\n    } catch (error) {\n      console.error('âŒ Room audio play error:', error);\n      setIsPlaying(false);\n    }\n  };\n\n  // Original handleNext and handlePrevious removed - using synchronized versions above\n\n  const handleSeekLocal = (event, newValue) => {\n    const audio = audioRef.current;\n    audio.currentTime = newValue;\n    setCurrentTime(newValue);\n  };\n\n  const handleVolumeChangeLocal = (event, newValue) => {\n    const audio = audioRef.current;\n    audio.volume = newValue / 100;\n    setVolume(newValue);\n  };\n\n    const handleAddTrack = async () => {\n    try {\n      console.log('=== DEBUG: Starting handleAddTrack ===');\n      console.log('Is host:', isHost);\n      console.log('Room:', room);\n      console.log('Current tracks:', tracks);\n      \n      setIsLoadingTracks(true);\n      \n      console.log('Token exists:', !!localStorage.getItem('token'));\n      \n      // Get available tracks from user's library\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('No authentication token found. Please log in again.');\n      }\n      \n      console.log('Fetching user tracks...');\n      const response = await tracksAPI.getUserTracks();\n      \n      console.log('Tracks API response:', response);\n      console.log('Response status:', response.status);\n      console.log('Response data:', response.data);\n      \n      if (response.data && response.data.tracks) {\n        const extractedTracks = response.data.tracks;\n        console.log('Extracted tracks:', extractedTracks);\n        console.log('Number of tracks found:', extractedTracks.length);\n        \n        setAvailableTracks(extractedTracks);\n        \n        // Add explicit debugging for dialog display\n        console.log('ğŸ¯ TRACKS AVAILABLE FOR SELECTION:');\n        extractedTracks.forEach((track, index) => {\n          console.log(`${index + 1}. \"${track.title}\" by ${track.artist} (ID: ${track.id})`);\n        });\n        console.log('ğŸ¯ Dialog will now show these tracks. Click on any track to add it to the room.');\n        \n        // ğŸš¨ BYPASS DIALOG - Auto-add the first track for testing\n        if (extractedTracks.length > 0) {\n          const firstTrack = extractedTracks[0];\n          console.log('ğŸš¨ BYPASS: Auto-adding first track for testing:', firstTrack.title);\n          \n          // Call handleSelectTrack directly\n          if (onAddTrack) {\n            try {\n              console.log('ğŸ¯ CALLING onAddTrack directly with first track...');\n              await onAddTrack(firstTrack);\n              alert(`âœ… SUCCESS! Auto-added \"${firstTrack.title}\" to the room!`);\n              setShowAddTrack(false);\n            } catch (error) {\n              console.error('âŒ Error calling onAddTrack:', error);\n              alert(`âŒ Error adding track: ${error.message}`);\n            }\n          } else {\n            console.error('âŒ onAddTrack function not available');\n            alert('âŒ onAddTrack function not available');\n          }\n        }\n        \n      } else {\n        console.warn('No tracks found in response');\n        setAvailableTracks([]);\n        alert('No tracks found in your library');\n      }\n      \n      // Still open dialog for manual testing if needed\n      setShowAddTrack(true);\n      \n      console.log('=== DEBUG: handleAddTrack completed successfully ===');\n      console.log('ğŸš¨ NEXT STEP: Track should now be auto-added! Check for success message.');\n    } catch (error) {\n      console.error('=== DEBUG: Error in handleAddTrack ===');\n      console.error('Error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error details:', error.response?.data);\n      console.error('Error status:', error.response?.status);\n      console.error('Error headers:', error.response?.headers);\n      \n      // More specific error messages\n      if (error.response?.status === 401) {\n        alert('Authentication failed. Please log in again and try.');\n      } else if (error.response?.status === 403) {\n        alert('You do not have permission to access your tracks.');\n      } else if (error.response?.status === 500) {\n        alert('Server error. Please try again later.');\n      } else {\n        alert(`Failed to load your tracks: ${error.message}. Please check the console for details.`);\n      }\n    } finally {\n      setIsLoadingTracks(false);\n    }\n  };\n\n  const handleSelectTrack = async (track) => {\n    try {\n      console.log('ğŸµ === DEBUG: Starting handleSelectTrack ===');\n      console.log('Selected track:', track);\n      console.log('Track title:', track.title);\n      console.log('Track ID:', track.id);\n      console.log('Room ID:', room?.id);\n      console.log('onAddTrack function:', typeof onAddTrack);\n      \n      // Show immediate feedback to user\n      const originalButton = document.activeElement;\n      if (originalButton && originalButton.textContent.includes('Add')) {\n        originalButton.innerHTML = 'â³ Adding...';\n        originalButton.disabled = true;\n      }\n      \n      if (!onAddTrack) {\n        console.error('âŒ onAddTrack function is not provided');\n        alert('Cannot add track: missing callback function');\n        return;\n      }\n      \n      if (!track || !track.id) {\n        console.error('âŒ Invalid track selected:', track);\n        alert('Invalid track selected');\n        return;\n      }\n      \n      console.log('ğŸ“¤ Calling onAddTrack with track:', track.title);\n      await onAddTrack(track);\n      \n      setShowAddTrack(false);\n      setSearchQuery('');\n      console.log('âœ… === DEBUG: Track added successfully! ===');\n      console.log('Track title added:', track.title);\n      \n      // Show success feedback\n      alert(`âœ… Successfully added \"${track.title}\" to the room!`);\n      \n    } catch (error) {\n      console.error('âŒ === DEBUG: Error in handleSelectTrack ===');\n      console.error('Error object:', error);\n      console.error('Error message:', error.message);\n      console.error('Error details:', error.response?.data);\n      console.error('Error status:', error.response?.status);\n      \n      // More specific error messages\n      if (error.response?.status === 403) {\n        alert('âŒ You do not have permission to add tracks to this room.');\n      } else if (error.response?.status === 404) {\n        alert('âŒ Track or room not found.');\n      } else if (error.response?.status === 409) {\n        alert('âš ï¸ This track is already in the room.');\n      } else if (error.response?.status === 500) {\n        alert('âŒ Server error. Please try again later.');\n      } else {\n        alert(`âŒ Failed to add track: ${error.message}`);\n      }\n    }\n  };\n\n  const handleSearchChange = (event) => {\n    setSearchQuery(event.target.value);\n  };\n\n  const formatTime = (time) => {\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  const filteredTracks = availableTracks.filter(track =>\n    track.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    track.artist.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  if (!currentTrack && tracks.length === 0) {\n    return (\n      <Paper elevation={3} sx={{ p: 3, textAlign: 'center' }}>\n        <QueueMusic sx={{ fontSize: 48, color: 'text.secondary', mb: 2 }} />\n        <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n          No tracks in this room yet\n        </Typography>\n        {/* Show Add First Track button for all users, not just hosts */}\n        <Button \n          variant=\"contained\" \n          startIcon={<Add />}\n          onClick={handleAddTrack}\n          disabled={isLoadingTracks}\n          sx={{ mt: 2 }}\n        >\n          {isLoadingTracks ? 'Loading...' : 'Add First Track'}\n        </Button>\n      </Paper>\n    );\n  }\n\n  return (\n    <Paper elevation={3} sx={{ p: 3 }}>\n      {/* Media element: audio or video */}\n      {isCurrentTrackMp4 ? (\n        <video\n          ref={videoRef}\n          src={currentTrack?.file_url || currentTrack?.url}\n          onEnded={handleNext}\n          crossOrigin=\"anonymous\"\n          style={{ width: '100%', maxHeight: 320, marginBottom: 16, background: '#000' }}\n          controls\n          poster={currentTrack?.cover_url}\n        />\n      ) : (\n        <audio\n          ref={audioRef}\n          src={currentTrack?.file_url || currentTrack?.url}\n          onEnded={handleNext}\n          crossOrigin=\"anonymous\"\n        />\n      )}\n      {/* Current Track Info */}\n      {currentTrack && (\n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\n          <Avatar sx={{ width: 56, height: 56, mr: 2 }}>\n            <MusicNote />\n          </Avatar>\n          <Box sx={{ flexGrow: 1 }}>\n            <Typography variant=\"h6\" noWrap>\n              {currentTrack.title}\n              {isSyncing && (\n                <Chip \n                  label=\"Syncing...\" \n                  size=\"small\" \n                  color=\"primary\" \n                  sx={{ ml: 1 }} \n                />\n              )}\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\" noWrap>\n              {currentTrack.artist}\n              {isHost && (\n                <Chip \n                  label=\"HOST\" \n                  size=\"small\" \n                  color=\"success\" \n                  sx={{ ml: 1 }} \n                />\n              )}\n              {connectedUsers.length > 0 && (\n                <Chip \n                  label={`${connectedUsers.length + 1} users`} \n                  size=\"small\" \n                  color=\"info\" \n                  sx={{ ml: 1 }} \n                />\n              )}\n            </Typography>\n          </Box>\n          <Chip \n            label={`${tracks.findIndex(t => t.id === currentTrack.id) + 1} of ${tracks.length}`}\n            size=\"small\"\n            variant=\"outlined\"\n          />\n        </Box>\n      )}\n\n      {/* Player Controls */}\n      <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', mb: 2 }}>\n        <Tooltip title=\"Previous\">\n          <IconButton \n            onClick={handlePrevious}\n            disabled={!currentTrack || tracks.findIndex(t => t.id === currentTrack.id) === 0}\n          >\n            <SkipPrevious />\n          </IconButton>\n        </Tooltip>\n        \n        <Tooltip title={isPlaying ? \"Pause\" : \"Play\"}>\n          <IconButton \n            onClick={handlePlayPause}\n            disabled={!currentTrack}\n            sx={{ mx: 1 }}\n          >\n            {isPlaying ? <Pause /> : <PlayArrow />}\n          </IconButton>\n        </Tooltip>\n        \n        <Tooltip title=\"Next\">\n          <IconButton \n            onClick={handleNext}\n            disabled={!currentTrack || tracks.findIndex(t => t.id === currentTrack.id) === tracks.length - 1}\n          >\n            <SkipNext />\n          </IconButton>\n        </Tooltip>\n      </Box>\n\n      {/* Progress Bar */}\n      {currentTrack && (\n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n          <Typography variant=\"caption\" sx={{ mr: 1, minWidth: '40px' }}>\n            {formatTime(currentTime)}\n          </Typography>\n          <Slider\n            value={currentTime}\n            max={duration || 0}\n            onChange={isHost ? handleSeek : handleSeekLocal}\n            sx={{ flexGrow: 1, mx: 1 }}\n          />\n          <Typography variant=\"caption\" sx={{ ml: 1, minWidth: '40px' }}>\n            {formatTime(duration)}\n          </Typography>\n        </Box>\n      )}\n\n      {/* Volume Control */}\n      <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\n        <VolumeUp sx={{ mr: 1 }} />\n        <Slider\n          value={volume}\n          onChange={handleVolumeChange}\n          sx={{ width: 100 }}\n        />\n      </Box>\n\n      {/* Queue/Playlist */}\n      {tracks.length > 0 && (\n        <Box>\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n            <Typography variant=\"h6\">\n              Queue ({tracks.length} tracks)\n            </Typography>\n            {/* Show Add Track button for all users, not just hosts */}\n            <Button \n              variant=\"outlined\" \n              size=\"small\"\n              startIcon={<Add />}\n              onClick={handleAddTrack}\n              disabled={isLoadingTracks}\n            >\n              {isLoadingTracks ? 'Loading...' : 'Add Track'}\n            </Button>\n          </Box>\n          \n          <List sx={{ maxHeight: 200, overflow: 'auto' }}>\n            {tracks.map((track, index) => (\n              <ListItem \n                key={track.id}\n                button\n                selected={currentTrack?.id === track.id}\n                onClick={() => handleTrackClick(track, index)}\n              >\n                <ListItemAvatar>\n                  <Avatar sx={{ width: 32, height: 32 }}>\n                    <MusicNote fontSize=\"small\" />\n                  </Avatar>\n                </ListItemAvatar>\n                <ListItemText \n                  primary={track.title}\n                  secondary={track.artist}\n                  primaryTypographyProps={{ noWrap: true }}\n                  secondaryTypographyProps={{ noWrap: true }}\n                />\n                <Typography variant=\"caption\" color=\"text.secondary\">\n                  {index + 1}\n                </Typography>\n              </ListItem>\n            ))}\n          </List>\n        </Box>\n      )}\n\n      {/* Add Track Dialog */}\n      <Dialog \n        open={showAddTrack} \n        onClose={() => setShowAddTrack(false)}\n        maxWidth=\"md\"\n        fullWidth\n        sx={{\n          '& .MuiDialog-paper': {\n            zIndex: 9999\n          }\n        }}\n      >\n        <DialogTitle>\n          Add Track to Room\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n            ğŸµ Click on any track below or click the \"Add\" button to add it to the room\n          </Typography>\n        </DialogTitle>\n        <DialogContent>\n          <TextField\n            fullWidth\n            placeholder=\"Search your tracks...\"\n            value={searchQuery}\n            onChange={handleSearchChange}\n            sx={{ mb: 2 }}\n          />\n          \n          <Typography variant=\"subtitle2\" gutterBottom>\n            Your Tracks ({availableTracks.length} available)\n          </Typography>\n          \n          {isLoadingTracks ? (\n            <Box sx={{ textAlign: 'center', py: 3 }}>\n              <Typography>Loading your tracks...</Typography>\n            </Box>\n          ) : availableTracks.length === 0 ? (\n            <Box sx={{ textAlign: 'center', py: 3 }}>\n              <Typography color=\"text.secondary\">\n                No tracks found. Upload some tracks first to add them to the room.\n              </Typography>\n              <Button \n                variant=\"contained\" \n                sx={{ mt: 2 }}\n                onClick={() => window.location.href = '/upload'}\n              >\n                Upload Tracks\n              </Button>\n            </Box>\n          ) : (\n            <>\n              <Typography variant=\"body2\" color=\"primary\" sx={{ mb: 2, fontWeight: 'bold' }}>\n                âš ï¸ DEBUG: {filteredTracks.length} tracks rendered. Click DIRECTLY on the track items below.\n              </Typography>\n              <List sx={{ maxHeight: 300, overflow: 'auto', border: '2px solid red', borderRadius: 1 }}>\n                {filteredTracks.map((track, index) => {\n                  console.log(`ğŸµ Rendering track ${index + 1}: ${track.title} (ID: ${track.id})`);\n                  return (\n                    <ListItem \n                      key={track.id}\n                      button\n                      onClick={(e) => {\n                        console.log('ğŸ¯ LIST ITEM CLICKED:', track.title);\n                        console.log('Event:', e);\n                        console.log('Event target:', e.target);\n                        console.log('Event currentTarget:', e.currentTarget);\n                        handleSelectTrack(track);\n                      }}\n                      sx={{\n                        '&:hover': {\n                          backgroundColor: 'action.hover',\n                          transform: 'scale(1.02)',\n                          transition: 'all 0.2s ease'\n                        },\n                        border: '1px solid blue',\n                        borderRadius: 1,\n                        mb: 1,\n                        cursor: 'pointer',\n                        backgroundColor: 'rgba(0, 255, 0, 0.1)' // Green background for visibility\n                      }}\n                    >\n                      <ListItemAvatar>\n                        <Avatar sx={{ bgcolor: 'primary.main' }}>\n                          <MusicNote />\n                        </Avatar>\n                      </ListItemAvatar>\n                      <ListItemText \n                        primary={\n                          <Typography variant=\"subtitle1\" sx={{ fontWeight: 500 }}>\n                            {track.title}\n                          </Typography>\n                        }\n                        secondary={\n                          <Typography variant=\"body2\" color=\"text.secondary\">\n                            {track.artist} â€¢ {track.genre || 'Unknown Genre'}\n                          </Typography>\n                        }\n                      />\n                      <Button\n                        variant=\"contained\"\n                        size=\"small\"\n                        color=\"secondary\"\n                        sx={{ \n                          ml: 2,\n                          minWidth: 80,\n                          backgroundColor: 'red',\n                          '&:hover': {\n                            backgroundColor: 'darkred'\n                          }\n                        }}\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          console.log('ğŸ¯ ADD BUTTON CLICKED for track:', track.title);\n                          console.log('Button event:', e);\n                          console.log('Track details:', track);\n                          handleSelectTrack(track);\n                        }}\n                      >\n                        â• Add\n                      </Button>\n                    </ListItem>\n                  );\n                })}\n              </List>\n              <Typography variant=\"body2\" color=\"error\" sx={{ mt: 2, fontWeight: 'bold' }}>\n                ğŸš¨ If you can see tracks above but clicking doesn't work, there's a UI blocking issue!\n              </Typography>\n            </>\n          )}\n        </DialogContent>\n      </Dialog>\n    </Paper>\n  );\n};\n\nexport default RoomAudioPlayer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}