{"ast":null,"code":"import React from'react';import{Box,Typography,Card,CardContent,Button,Chip,Grid,CircularProgress,Alert,Avatar,IconButton,Tooltip,Divider,Stack}from'@mui/material';import{Psychology,PlayArrow,Favorite,Share,AutoAwesome,TrendingUp,Explore,MusicNote,Refresh}from'@mui/icons-material';import axios from'axios';import{useAuth}from'../contexts/AuthContext';import{usePlayer}from'../contexts/PlayerContext';import AudioPlayer from'./AudioPlayer';import{useEffect,useState}from'react';import api from'../services/api';const AIRecommendations=()=>{const[recommendations,setRecommendations]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const{user}=useAuth();const{playTrack}=usePlayer();useEffect(()=>{const fetchRecommendations=async()=>{setLoading(true);setError(null);try{const res=await api.get(\"/ai/recommendations/\".concat(user===null||user===void 0?void 0:user.id));setRecommendations(res.data.recommendations||[]);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Failed to load recommendations');}finally{setLoading(false);}};if(user!==null&&user!==void 0&&user.id)fetchRecommendations();},[user===null||user===void 0?void 0:user.id]);return/*#__PURE__*/_jsxs(Box,{sx:{mt:4},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",sx:{mb:2,color:'#4caf50'},children:[/*#__PURE__*/_jsx(Psychology,{sx:{mr:1,verticalAlign:'middle'}}),\" AI Recommendations\"]}),loading?/*#__PURE__*/_jsx(CircularProgress,{}):error?/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error}):recommendations.length===0?/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"No recommendations available.\"}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:recommendations.map((track,idx)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,lg:4,children:/*#__PURE__*/_jsx(Card,{sx:{bgcolor:'#23272f',color:'white',borderRadius:2},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",sx:{fontWeight:'bold'},children:track.title}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{color:'#aaa'},children:track.artist}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{color:'#4caf50'},children:track.aiReason}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,sx:{mt:1},children:[/*#__PURE__*/_jsx(Chip,{label:\"Score: \".concat((track.aiScore*100).toFixed(0),\"%\"),size:\"small\",color:\"success\"}),track.genre&&/*#__PURE__*/_jsx(Chip,{label:track.genre,size:\"small\"})]}),/*#__PURE__*/_jsx(Box,{sx:{mt:2},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",startIcon:/*#__PURE__*/_jsx(PlayArrow,{}),onClick:()=>playTrack(track),children:\"Play\"})})]})})},track.id||idx))})]});};import{formatPlays}from'../utils/format';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default AIRecommendations;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}