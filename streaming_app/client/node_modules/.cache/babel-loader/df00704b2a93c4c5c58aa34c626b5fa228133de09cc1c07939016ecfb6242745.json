{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Fab,Box,Paper,Typography,IconButton,Slide,Avatar,Tooltip}from'@mui/material';import{PlayArrow,Pause,SkipNext,SkipPrevious,VolumeUp,ExpandLess,ExpandMore}from'@mui/icons-material';import{usePlayer}from'../contexts/PlayerContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FloatingPlayer=()=>{const{currentTrack,isPlaying,togglePlayPause,playNext,playPrevious,volume}=usePlayer();const[isVisible,setIsVisible]=useState(false);const[isExpanded,setIsExpanded]=useState(false);const[scrollY,setScrollY]=useState(0);const[showPlayer,setShowPlayer]=useState(true);useEffect(()=>{const handleScroll=()=>{const currentScrollY=window.scrollY;setScrollY(currentScrollY);// Show floating player when scrolled down and player is at bottom\nsetIsVisible(currentScrollY>200&&currentTrack&&showPlayer);};window.addEventListener('scroll',handleScroll,{passive:true});return()=>window.removeEventListener('scroll',handleScroll);},[currentTrack,showPlayer]);if(!currentTrack||!showPlayer){return null;}return/*#__PURE__*/_jsx(Slide,{direction:\"up\",in:isVisible,mountOnEnter:true,unmountOnExit:true,children:/*#__PURE__*/_jsxs(Paper,{elevation:8,sx:{position:'fixed',top:20,right:20,zIndex:1400,borderRadius:4,overflow:'hidden',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',backdropFilter:'blur(10px)',transition:'all 0.3s ease',width:isExpanded?320:200,boxShadow:'0 8px 32px rgba(0,0,0,0.3)'},children:[/*#__PURE__*/_jsxs(Box,{sx:{p:1.5,display:'flex',alignItems:'center',cursor:'pointer'},onClick:()=>setIsExpanded(!isExpanded),children:[/*#__PURE__*/_jsx(Avatar,{sx:{width:40,height:40,mr:1.5,border:'2px solid rgba(255,255,255,0.3)'},src:currentTrack.cover_url}),/*#__PURE__*/_jsxs(Box,{sx:{flex:1,minWidth:0},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{color:'white',fontWeight:600,textOverflow:'ellipsis',overflow:'hidden',whiteSpace:'nowrap'},children:currentTrack.title}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{color:'rgba(255,255,255,0.8)',display:'block',textOverflow:'ellipsis',overflow:'hidden',whiteSpace:'nowrap'},children:currentTrack.artist})]}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",sx:{color:'rgba(255,255,255,0.8)'},children:isExpanded?/*#__PURE__*/_jsx(ExpandLess,{}):/*#__PURE__*/_jsx(ExpandMore,{})})]}),isExpanded&&/*#__PURE__*/_jsxs(Box,{sx:{px:2,pb:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'center',gap:1,mb:2},children:[/*#__PURE__*/_jsx(Tooltip,{title:\"Previous\",children:/*#__PURE__*/_jsx(IconButton,{onClick:playPrevious,sx:{color:'white','&:hover':{backgroundColor:'rgba(255,255,255,0.1)'}},children:/*#__PURE__*/_jsx(SkipPrevious,{})})}),/*#__PURE__*/_jsx(Tooltip,{title:isPlaying?\"Pause\":\"Play\",children:/*#__PURE__*/_jsx(IconButton,{onClick:togglePlayPause,sx:{backgroundColor:'rgba(255,255,255,0.2)',color:'white','&:hover':{backgroundColor:'rgba(255,255,255,0.3)',transform:'scale(1.05)'},transition:'all 0.2s ease'},children:isPlaying?/*#__PURE__*/_jsx(Pause,{}):/*#__PURE__*/_jsx(PlayArrow,{})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Next\",children:/*#__PURE__*/_jsx(IconButton,{onClick:playNext,sx:{color:'white','&:hover':{backgroundColor:'rgba(255,255,255,0.1)'}},children:/*#__PURE__*/_jsx(SkipNext,{})})})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(VolumeUp,{sx:{color:'rgba(255,255,255,0.7)',fontSize:16}}),/*#__PURE__*/_jsx(Box,{sx:{flex:1,height:4,backgroundColor:'rgba(255,255,255,0.3)',borderRadius:2,overflow:'hidden'},children:/*#__PURE__*/_jsx(Box,{sx:{width:`${volume*100}%`,height:'100%',backgroundColor:'white',transition:'width 0.2s ease'}})}),/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",sx:{color:'rgba(255,255,255,0.7)',minWidth:30},children:[Math.round(volume*100),\"%\"]})]})]}),!isExpanded&&/*#__PURE__*/_jsx(Fab,{size:\"small\",onClick:e=>{e.stopPropagation();togglePlayPause();},sx:{position:'absolute',bottom:-20,right:-20,backgroundColor:'#ff6b6b',color:'white','&:hover':{backgroundColor:'#ff5252',transform:'scale(1.1)'},transition:'all 0.2s ease'},children:isPlaying?/*#__PURE__*/_jsx(Pause,{}):/*#__PURE__*/_jsx(PlayArrow,{})})]})});};export default FloatingPlayer;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}