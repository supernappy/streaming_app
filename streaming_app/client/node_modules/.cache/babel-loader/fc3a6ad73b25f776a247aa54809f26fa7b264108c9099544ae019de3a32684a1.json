{"ast":null,"code":"import React,{useState}from'react';import{AppBar,Toolbar,Typography,Button,Box,IconButton,Menu,MenuItem,Avatar,TextField,InputAdornment}from'@mui/material';import{Search as SearchIcon,AccountCircle,Home,QueueMusic,Radio,Upload,Dashboard}from'@mui/icons-material';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{var _user$username,_user$username$charAt;const{user,logout,isAuthenticated}=useAuth();const navigate=useNavigate();const[anchorEl,setAnchorEl]=useState(null);const[searchQuery,setSearchQuery]=useState('');const handleProfileMenuOpen=event=>{setAnchorEl(event.currentTarget);};const handleMenuClose=()=>{setAnchorEl(null);};const handleLogout=()=>{logout();navigate('/');handleMenuClose();};const handleSearch=e=>{e.preventDefault();if(searchQuery.trim()){navigate(`/search?q=${encodeURIComponent(searchQuery.trim())}`);}};return/*#__PURE__*/_jsx(AppBar,{position:\"sticky\",sx:{backgroundColor:'#191414'},children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:Link,to:\"/\",sx:{textDecoration:'none',color:'inherit',fontWeight:'bold',mr:4},children:\"\\uD83C\\uDFA7 OpenStream\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,mr:4},children:[/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/\",startIcon:/*#__PURE__*/_jsx(Home,{}),children:\"Home\"}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/rooms\",startIcon:/*#__PURE__*/_jsx(Radio,{}),children:\"Rooms\"}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/library\",startIcon:/*#__PURE__*/_jsx(QueueMusic,{}),children:\"Library\"}),isAuthenticated&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/playlists\",startIcon:/*#__PURE__*/_jsx(QueueMusic,{}),children:\"Playlists\"}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/upload\",startIcon:/*#__PURE__*/_jsx(Upload,{}),children:\"Upload\"}),/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/profile\",startIcon:/*#__PURE__*/_jsx(AccountCircle,{}),children:\"Profile\"})]})]}),/*#__PURE__*/_jsx(Box,{component:\"form\",onSubmit:handleSearch,sx:{flexGrow:1,mx:2},children:/*#__PURE__*/_jsx(TextField,{size:\"small\",placeholder:\"Search tracks, artists, albums...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{})})},sx:{width:'100%',maxWidth:500,'& .MuiOutlinedInput-root':{backgroundColor:'rgba(255, 255, 255, 0.1)','&:hover':{backgroundColor:'rgba(255, 255, 255, 0.15)'}}}})}),/*#__PURE__*/_jsx(Box,{children:isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IconButton,{size:\"large\",edge:\"end\",\"aria-label\":\"account of current user\",\"aria-controls\":\"primary-search-account-menu\",\"aria-haspopup\":\"true\",onClick:handleProfileMenuOpen,color:\"inherit\",children:/*#__PURE__*/_jsx(Avatar,{sx:{width:32,height:32},children:user===null||user===void 0?void 0:(_user$username=user.username)===null||_user$username===void 0?void 0:(_user$username$charAt=_user$username.charAt(0))===null||_user$username$charAt===void 0?void 0:_user$username$charAt.toUpperCase()})}),/*#__PURE__*/_jsxs(Menu,{anchorEl:anchorEl,anchorOrigin:{vertical:'top',horizontal:'right'},keepMounted:true,transformOrigin:{vertical:'top',horizontal:'right'},open:Boolean(anchorEl),onClose:handleMenuClose,children:[/*#__PURE__*/_jsxs(MenuItem,{onClick:()=>{navigate('/profile');handleMenuClose();},children:[/*#__PURE__*/_jsx(AccountCircle,{sx:{mr:1}}),\"Profile\"]}),/*#__PURE__*/_jsxs(MenuItem,{onClick:()=>{navigate('/dashboard');handleMenuClose();},children:[/*#__PURE__*/_jsx(Dashboard,{sx:{mr:1}}),\"Dashboard\"]}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleLogout,children:\"Logout\"})]})]}):/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1},children:[/*#__PURE__*/_jsx(Button,{color:\"inherit\",component:Link,to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"primary\",component:Link,to:\"/register\",children:\"Sign Up\"})]})})]})});};export default Navbar;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}