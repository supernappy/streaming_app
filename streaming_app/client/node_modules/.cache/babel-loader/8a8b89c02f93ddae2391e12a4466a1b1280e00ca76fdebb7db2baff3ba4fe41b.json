{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Container,Typography,Card,CardContent,Box,CircularProgress,Tooltip}from'@mui/material';import{playlistsAPI}from'../services/api';import AudioPlayer from'../components/AudioPlayer';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CuratedPlaylist=()=>{var _playlist$tracks,_playlist$tracks2;const[playlist,setPlaylist]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchCurated=async()=>{setLoading(true);try{// Try to fetch a featured playlist, fallback to first public playlist\nconst res=await playlistsAPI.getAll({featured:true,limit:1});const list=res.data.playlists||[];if(list.length>0){const pl=await playlistsAPI.getById(list[0].id);setPlaylist(pl.data.playlist);}else{setPlaylist(null);}}catch(e){setPlaylist(null);}finally{setLoading(false);}};fetchCurated();},[]);return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{py:6},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",sx:{fontWeight:'bold',mb:3},children:\"Editor\\u2019s Pick: Curated Playlist\"}),loading?/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',py:6},children:/*#__PURE__*/_jsx(CircularProgress,{})}):!playlist?/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",children:\"No curated playlist found.\"}):/*#__PURE__*/_jsx(Card,{sx:{backgroundColor:'#1e1e1e',mb:4},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,sx:{color:'#fff'},children:playlist.name}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[((_playlist$tracks=playlist.tracks)===null||_playlist$tracks===void 0?void 0:_playlist$tracks.length)||0,\" tracks \\u2022 by \",playlist.owner_username]}),playlist.description&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mt:1},children:playlist.description}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',flexDirection:'column',gap:2,mt:3},children:((_playlist$tracks2=playlist.tracks)===null||_playlist$tracks2===void 0?void 0:_playlist$tracks2.length)>0?playlist.tracks.map((track,idx)=>/*#__PURE__*/_jsx(Tooltip,{title:track.play_count===1?'Played once':\"Played \".concat(track.play_count||0,\" times\"),arrow:true,children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(AudioPlayer,{track:track,compact:true,showIndex:idx+1})})},track.id)):/*#__PURE__*/_jsx(Typography,{color:\"text.secondary\",children:\"No tracks in this playlist.\"})})]})})]});};export default CuratedPlaylist;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}